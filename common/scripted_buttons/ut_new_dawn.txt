#Base
ut_new_dawn_fascist_focus = {
	name = "ut_new_dawn_fascist_focus"
	desc = "ut_new_dawn_fascist_focus_desc"

	visible = { always = yes }

	possible = {
		NOT = { has_modifier = ut_new_dawn_focus_recently_changed }
		NOT = { has_variable = je_ut_new_dawn_fascist_focus }
	}

	effect = {	
		custom_tooltip = ut_new_dawn_fascist_focus_tt	
		set_variable = je_ut_new_dawn_fascist_focus
		remove_variable = je_ut_new_dawn_autocrat_focus
		remove_variable = je_ut_new_dawn_democrat_focus
		remove_variable = je_ut_new_dawn_communist_focus
		add_modifier = {
			name = ut_new_dawn_focus_recently_changed
			days = normal_modifier_time
		}
	}
}

ut_new_dawn_autocrat_focus = {
	name = "ut_new_dawn_autocrat_focus"
	desc = "ut_new_dawn_autocrat_focus_desc"

	visible = { always = yes }

	possible = {
		NOT = { has_modifier = ut_new_dawn_focus_recently_changed }
		NOT = { has_variable = je_ut_new_dawn_autocrat_focus }
	}

	effect = {
		custom_tooltip = ut_new_dawn_autocrat_focus_tt
		set_variable = je_ut_new_dawn_autocrat_focus
		remove_variable = je_ut_new_dawn_fascist_focus
		remove_variable = je_ut_new_dawn_democrat_focus
		remove_variable = je_ut_new_dawn_communist_focus
		add_modifier = {
			name = ut_new_dawn_focus_recently_changed
			days = normal_modifier_time
		}
	}
}

ut_new_dawn_democrat_focus = {
	name = "ut_new_dawn_democrat_focus"
	desc = "ut_new_dawn_democrat_focus_desc"

	visible = { always = yes }

	possible = {
		NOT = { has_modifier = ut_new_dawn_focus_recently_changed }
		NOT = { has_variable = je_ut_new_dawn_democrat_focus }
	}

	effect = {
		custom_tooltip = ut_new_dawn_democratic_focus_tt
		set_variable = je_ut_new_dawn_democrat_focus
		remove_variable = je_ut_new_dawn_fascist_focus
		remove_variable = je_ut_new_dawn_autocrat_focus
		remove_variable = je_ut_new_dawn_communist_focus
		add_modifier = {
			name = ut_new_dawn_focus_recently_changed
			days = normal_modifier_time
		}
	}
}

ut_new_dawn_communist_focus = {
	name = "ut_new_dawn_communist_focus"
	desc = "ut_new_dawn_communist_focus_desc"

	visible = { always = yes }

	possible = {
		NOT = { has_modifier = ut_new_dawn_focus_recently_changed }
		NOT = { has_variable = je_ut_new_dawn_communist_focus }
	}

	effect = {		
		custom_tooltip = ut_new_dawn_communist_focus_tt
		set_variable = je_ut_new_dawn_communist_focus
		remove_variable = je_ut_new_dawn_fascist_focus
		remove_variable = je_ut_new_dawn_autocrat_focus
		remove_variable = je_ut_new_dawn_democrat_focus
		add_modifier = {
			name = ut_new_dawn_focus_recently_changed
			days = normal_modifier_time
		}
	}
}

####Democratic Buttons####
je_ut_new_dawn_democratic_spirit = {
	name = "je_ut_new_dawn_democratic_spirit"
	desc = "je_ut_new_dawn_democratic_spirit_desc"

	visible = { always = yes }

	possible = {
		custom_tooltip = {
			text = new_dawn_ideology_required_points_tt
			je:je_ut_new_dawn_democratic = { 
				"scripted_bar_progress(je_ut_new_dawn_democratic_points_bar)" >= new_dawn_ideology_required_points
			}
		}
		OR = {
			has_law = law_type:law_parliamentary_republic
			has_law = law_type:law_presidential_republic
		}
		has_law = law_type:law_universal_suffrage
		NOT = {
			every_interest_group = {
				is_in_government = yes
				leader = {
					NOR = {
						has_ideology = ideology:ideology_fascist
						has_ideology = ideology:ideology_integralist
						has_ideology = ideology:ideology_ethno_nationalist
						has_ideology = ideology:ideology_communist
						has_ideology = ideology:ideology_vanguardist
						has_ideology = ideology:ideology_anarchist
					}
				}
			}
		}
	}

	effect = {		
		ig:ig_intelligentsia = {
			remove_ideology = ideology_liberal
			add_ideology = ideology_liberal_modern
		}
		set_variable = je_ut_new_dawn_democratic_spirit_done
	}
}

je_ut_new_dawn_democratic_cultural_values = {
	name = "je_ut_new_dawn_democratic_cultural_values"
	desc = "je_ut_new_dawn_democratic_cultural_values_desc"

	visible = { always = yes }

	possible = {
		custom_tooltip = {
			text = new_dawn_ideology_required_points_tt
			je:je_ut_new_dawn_democratic = { 
				"scripted_bar_progress(je_ut_new_dawn_democratic_points_bar)" >= new_dawn_ideology_required_points
			}
		}
        OR = {
            is_subject = no
            has_law = law_type:law_protected_speech
            has_law = law_type:law_right_of_assembly
        }
		custom_tooltip = {
			text = christ_of_nations_button_tt_2
			NOT = {
				has_variable = christ_of_nations_cooldown
			}
		}
	}

	effect = {
		ig:ig_devout = {
			remove_ideology = ideology_moralist
			add_ideology = ideology_moralist_democratic
		}
		set_variable = je_ut_new_dawn_democratic_cultural_values_done
		custom_tooltip = {
			text = new_dawn_ideology_required_points_spend_tt
			je:je_ut_new_dawn_democratic = {
				add_progress = { value = -50 name = je_ut_new_dawn_democratic_points_bar }
			}
		}
	}
}

je_ut_new_dawn_democratic_power_bloc = {
	name = "je_ut_new_dawn_democratic_power_bloc"
	desc = "je_ut_new_dawn_democratic_power_bloc_desc"

	visible = { always = yes }

	possible = {
		custom_tooltip = {
			text = new_dawn_ideology_required_points_tt
			je:je_ut_new_dawn_democratic = { 
				"scripted_bar_progress(je_ut_new_dawn_democratic_points_bar)" >= new_dawn_ideology_required_points
			}
		}
		is_in_power_bloc = yes
		OR = {
			is_power_bloc_leader = yes
			power_bloc ?= {
				NOT = { has_identity = identity_sovereign_empire }
			}
		}
	}

	effect = {
		custom_tooltip = je_ut_new_dawn_democratic_power_bloc_tt
		set_variable = je_ut_new_dawn_democratic_power_bloc_done
		custom_tooltip = {
			text = new_dawn_ideology_required_points_spend_tt
			je:je_ut_new_dawn_democratic = {
				add_progress = { value = -50 name = je_ut_new_dawn_democratic_points_bar }
			}
		}		
	}
}

je_ut_new_dawn_democratic_fair_elections = {
	name = "je_ut_new_dawn_democratic_fair_elections"
	desc = "je_ut_new_dawn_democratic_fair_elections_desc"

	visible = { always = yes }

	possible = {
		custom_tooltip = {
			text = new_dawn_ideology_required_points_tt
			je:je_ut_new_dawn_democratic = { 
				"scripted_bar_progress(je_ut_new_dawn_democratic_points_bar)" >= new_dawn_ideology_required_points
			}
		}
		has_law = law_type:law_universal_suffrage
	}

	effect = {
		custom_tooltip = je_ut_new_dawn_democratic_fair_elections_tt
		set_variable = je_ut_new_dawn_democratic_fair_elections_done
		custom_tooltip = {
			text = new_dawn_ideology_required_points_spend_tt
			je:je_ut_new_dawn_democratic = {
				add_progress = { value = -50 name = je_ut_new_dawn_democratic_points_bar }
			}
		}
	}
}