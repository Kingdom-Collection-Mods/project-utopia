#Base
ut_new_dawn_fascist_focus = {
	name = "christ_of_nations_button"
	desc = "christ_of_nations_button_desc"

	visible = { always = yes }

	possible = {
		NOT = { has_modifier = ut_new_dawn_focus_recently_changed }
	}

	effect = {		
		set_variable = je_ut_new_dawn_fascist_focus
		remove_variable = je_ut_new_dawn_autocratic_focus
		remove_variable = je_ut_new_dawn_democratic_focus
		remove_variable = je_ut_new_dawn_communist_focus
	}
}

ut_new_dawn_autocrat_focus = {
	name = "christ_of_nations_button"
	desc = "christ_of_nations_button_desc"

	visible = { always = yes }

	possible = {
		NOT = { has_modifier = ut_new_dawn_focus_recently_changed }
	}

	effect = {		
		set_variable = je_ut_new_dawn_autocratic_focus
		remove_variable = je_ut_new_dawn_fascist_focus
		remove_variable = je_ut_new_dawn_democratic_focus
		remove_variable = je_ut_new_dawn_communist_focus
	}
}

ut_new_dawn_democrat_focus = {
	name = "christ_of_nations_button"
	desc = "christ_of_nations_button_desc"

	visible = { always = yes }

	possible = {
		NOT = { has_modifier = ut_new_dawn_focus_recently_changed }
	}

	effect = {		
		set_variable = je_ut_new_dawn_democratic_focus
		remove_variable = je_ut_new_dawn_fascist_focus
		remove_variable = je_ut_new_dawn_autocratic_focus
		remove_variable = je_ut_new_dawn_communist_focus
	}
}

ut_new_dawn_communist_focus = {
	name = "christ_of_nations_button"
	desc = "christ_of_nations_button_desc"

	visible = { always = yes }

	possible = {
		NOT = { has_modifier = ut_new_dawn_focus_recently_changed }
	}

	effect = {		
		set_variable = je_ut_new_dawn_communist_focus
		remove_variable = je_ut_new_dawn_fascist_focus
		remove_variable = je_ut_new_dawn_autocratic_focus
		remove_variable = je_ut_new_dawn_democratic_focus
	}
}

####Democratic Buttons####
je_ut_new_dawn_democratic_base = {
	name = "christ_of_nations_button"
	desc = "christ_of_nations_button_desc"

	visible = { always = yes }

	possible = {
		OR = {
			has_law = law_type:law_parliamentary_republic
			has_law = law_type:law_presidential_republic
		}
		has_law = law_type:law_universal_suffrage
		NOT = {
			every_interest_group = {
				is_in_government = yes
				leader = {
					NOR = {
						has_ideology = ideology:ideology_fascist
						has_ideology = ideology:ideology_integralist
						has_ideology = ideology:ideology_ethno_nationalist
						has_ideology = ideology:ideology_communist
						has_ideology = ideology:ideology_vanguardist
						has_ideology = ideology:ideology_anarchist
					}
				}
			}
		}
	}

	effect = {		
		ig:ig_intelligentsia = {
			remove_ideology = ideology_liberal
			add_ideology = ideology_liberal_modern
		}
		set_variable = je_ut_new_dawn_democratic_base_done
	}
}

je_ut_new_dawn_democratic_cultural_values = {
	name = "christ_of_nations_button"
	desc = "christ_of_nations_button_desc"

	visible = { always = yes }

	possible = {
        OR = {
            is_subject = no
            has_law = law_type:law_protected_speech
            has_law = law_type:law_right_of_assembly
        }
		custom_tooltip = {
			text = christ_of_nations_button_tt_2
			NOT = {
				has_variable = christ_of_nations_cooldown
			}
		}
	}

	effect = {
		trigger_event = { id = poland_events.1 days = 0 popup = yes }
		custom_tooltip = christ_of_nations_button_tt_1
		ig:ig_devout = {
			remove_ideology = ideology_moralist
			add_ideology = ideology_moralist
		}
		set_variable = je_ut_new_dawn_democratic_cultural_values_done
	}
}

je_ut_new_dawn_democratic_power_bloc = {
	name = "christ_of_nations_button"
	desc = "christ_of_nations_button_desc"

	visible = { always = yes }

	possible = {
		custom_tooltip = {
			text = christ_of_nations_button_tt_2
			NOT = {
				has_variable = christ_of_nations_cooldown
			}
		}
		is_in_power_bloc = yes
		OR = {
			is_power_bloc_leader = yes
			power_bloc ?= {
				NOT = { has_identity = identity_sovereign_empire }
			}
		}
	}

	effect = {
		trigger_event = { id = poland_events.1 days = 0 popup = yes }
		custom_tooltip = christ_of_nations_button_tt_1
		set_variable = {
			name = christ_of_nations_cooldown
			months = normal_modifier_time
		}
		show_as_tooltip = {
			add_modifier = {
				name = funding_polish_radicals
				months = normal_modifier_time
			}
		}
		set_variable = je_ut_new_dawn_democratic_power_bloc_done
	}
}
