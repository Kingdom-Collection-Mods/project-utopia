#Base
ut_new_dawn_fascist_focus = {
	name = "ut_new_dawn_fascist_focus"
	desc = "ut_new_dawn_fascist_focus_desc"

	visible = { always = yes }

	possible = {
		NOT = { has_modifier = ut_new_dawn_focus_recently_changed }
		custom_tooltip = {
			text = ut_new_dawn_focus_freeze_tt
			NOT = { has_variable = ut_new_dawn_bar_freeze }
		}
		# custom_tooltip = {
		# 	text = ut_new_dawn_focus_already_selected_tt
		# 	NOT = { has_modifier = je_ut_new_dawn_fascist_focus }
		# }
	}

	effect = {	
		custom_tooltip = ut_new_dawn_focus_tt 		
		hidden_effect = {
			remove_modifier = je_ut_new_dawn_autocrat_focus
			remove_modifier = je_ut_new_dawn_democrat_focus
			remove_modifier = je_ut_new_dawn_communist_focus
			remove_modifier = je_ut_new_dawn_fascist_focus
		}
		add_modifier = {
			name = je_ut_new_dawn_fascist_focus
		}
		add_modifier = {
			name = ut_new_dawn_focus_recently_changed
			days = normal_modifier_time
		}
	}
	#1000 always
	#10 very likely
	#5 likely
	#2 if no other reasons
	ai_chance = {
		value = 0
		if = {
			limit = {
				has_modifier = je_ut_new_dawn_fascist_focus
			}
			add = 10
		}
		if = {
			limit = {
				OR = {
					c:GER ?= this
					c:ITA ?= this
				}
			}
			add = 10
		}
		if = {
			limit = {
				has_law = law_type:law_ethnostate
			}
			add = 2
		}
		if = {
			#Historically Germany, Italy, and Japan below in "ranking"?
			limit = {
				global_country_ranking >= 5
				country_rank >= rank_value:great_power
			}
			add = 2
		}
		if = {
			#Red scare if not socialist them self?
			limit = {
				NOT = { has_law = law_type:law_multicultural }
				NOT = { has_law = law_type:law_cooperative_ownership }
				NOT = { has_law = law_type:law_command_economy }
				any_neighbouring_state = {
					owner = {
						OR = {
							has_modifier = je_ut_new_dawn_communist_focus
							has_variable = ut_new_dawn_core_communist_var
						}
					}
				}
			}
			add = 2
		}
		if = {
			limit = {
				ruler = {
					ut_ideology_new_dawn_fascist_trigger = yes
				}
			}
			add = 2
		}
	}
}

ut_new_dawn_autocrat_focus = {
	name = "ut_new_dawn_autocrat_focus"
	desc = "ut_new_dawn_autocrat_focus_desc"

	visible = { always = yes }

	possible = {
		NOT = { has_modifier = ut_new_dawn_focus_recently_changed }
		custom_tooltip = {
			text = ut_new_dawn_focus_freeze_tt
			NOT = { has_variable = ut_new_dawn_bar_freeze }
		}
		# custom_tooltip = {
		# 	text = ut_new_dawn_focus_already_selected_tt
		# 	NOT = { has_modifier = je_ut_new_dawn_autocrat_focus }
		# }
	}

	effect = {
		custom_tooltip = ut_new_dawn_focus_tt
		hidden_effect = {
			remove_modifier = je_ut_new_dawn_fascist_focus
			remove_modifier = je_ut_new_dawn_democrat_focus
			remove_modifier = je_ut_new_dawn_communist_focus
			remove_modifier = je_ut_new_dawn_autocrat_focus
		}
		add_modifier = {
			name = je_ut_new_dawn_autocrat_focus
		}
		add_modifier = {
			name = ut_new_dawn_focus_recently_changed
			days = normal_modifier_time
		}
	}
	ai_chance = {
		value = 0
		
		if = {
			limit = {
				has_modifier = je_ut_new_dawn_autocrat_focus
			}
			add = 10
		}
		if = {
			limit = {
				OR = {
					c:AUS ?= this
				}
			}
			add = 10
		}
		
		if = {
			#let's stay in power, if nothing else to bother
			limit = {
				NOT = { has_law = law_type:law_census_voting }
				NOT = { has_law = law_type:law_universal_suffrage }
				OR = {
					has_law = law_type:law_monarchy
					has_law = law_type:law_corporate_state
				}
				OR = {
					has_law = law_type:law_autocracy
					has_law = law_type:law_oligarchy
				}
			}
			add = 5
		}
		if = {
			#Same chance as fascist (but more likely for majors)
			limit = {
				global_country_ranking >= 5
			}
			add = 2
		}	
		if = {
			limit = {
				ruler = {
					ut_ideology_new_dawn_autocrat_trigger = yes
				}
			}
			add = 2
		}
		if = {
			limit = {
				has_variable = je_ut_new_dawn_first_started
			}
			multiply = 0
		}
	}

}

ut_new_dawn_democrat_focus = {
	name = "ut_new_dawn_democrat_focus"
	desc = "ut_new_dawn_democrat_focus_desc"

	visible = { always = yes }

	possible = {
		NOT = { has_modifier = ut_new_dawn_focus_recently_changed }
		custom_tooltip = {
			text = ut_new_dawn_focus_freeze_tt
			NOT = { has_variable = ut_new_dawn_bar_freeze }
		}
		# custom_tooltip = {
		# 	text = ut_new_dawn_focus_already_selected_tt
		# 	NOT = { has_modifier = je_ut_new_dawn_democrat_focus }
		# }
	}

	effect = {
		custom_tooltip = ut_new_dawn_focus_tt		
		hidden_effect = {
			remove_modifier = je_ut_new_dawn_democrat_focus
			remove_modifier = je_ut_new_dawn_fascist_focus
			remove_modifier = je_ut_new_dawn_autocrat_focus
			remove_modifier = je_ut_new_dawn_communist_focus
		}
		add_modifier = {
			name = je_ut_new_dawn_democrat_focus
		}
		add_modifier = {
			name = ut_new_dawn_focus_recently_changed
			days = normal_modifier_time
		}
	}
	ai_chance = {
		value = 0
		if = {
			limit = {
				has_modifier = je_ut_new_dawn_democrat_focus
			}
			add = 10
		}
		if = {
			limit = {
				c:USA ?= this
				NOT = { exists = c:CSA }
			}
			add = 10
		}
		if = {
			limit = {
				c:GBR ?= this
				exists = c:GER
			}
			add = 10
		}
		if = {
			#Historically USA and Great Britain high "ranking"?
			limit = {
				global_country_ranking < 5
			}
			add = 2
		}
		if = {
			limit = {
				OR = {
					has_law = law_type:law_universal_suffrage
					has_law = law_type:law_census_voting
				}
			}
			add = 2
		}
		if = {
			limit = {
				ruler = {
					ut_ideology_new_dawn_democrat_trigger = yes
				}
			}
			add = 2
		}
		if = {
			#Fascist scare if democratic them self?
			limit = {
				OR = {
					has_law = law_type:law_universal_suffrage
					has_law = law_type:law_protected_speech
				}
				any_neighbouring_state = {
					owner = {
						OR = {
							has_modifier = je_ut_new_dawn_fascist_focus
							has_variable = ut_new_dawn_core_fascist_var
						}
					}
				}
			}
			add = 2
		}
	}
}

ut_new_dawn_communist_focus = {
	name = "ut_new_dawn_communist_focus"
	desc = "ut_new_dawn_communist_focus_desc"

	visible = { always = yes }

	possible = {
		NOT = { has_modifier = ut_new_dawn_focus_recently_changed }
		NOT = { 
			custom_tooltip = {
				text = ut_new_dawn_focus_freeze_tt
				has_variable = ut_new_dawn_bar_freeze
			}
		}
		# custom_tooltip = {
		# 	text = ut_new_dawn_focus_already_selected_tt
		# 	NOT = { has_modifier = je_ut_new_dawn_communist_focus }
		# }
	}

	effect = {		
		custom_tooltip = ut_new_dawn_focus_tt
		hidden_effect = {
			remove_modifier = je_ut_new_dawn_fascist_focus
			remove_modifier = je_ut_new_dawn_autocrat_focus
			remove_modifier = je_ut_new_dawn_democrat_focus
			remove_modifier = je_ut_new_dawn_communist_focus
		}
		add_modifier = {
			name = je_ut_new_dawn_communist_focus
		}
		add_modifier = {
			name = ut_new_dawn_focus_recently_changed
			days = normal_modifier_time
		}
	}
	ai_chance = {
		value = 0
		if = {
			limit = {
				has_modifier = je_ut_new_dawn_communist_focus
			}
			add = 10
		}
		if = {
			limit = {
				c:RUS ?= this
			}
			add = 2
		}
		if = {
			limit = {
				OR = {
					has_law = law_type:law_cooperative_ownership
					has_law = law_type:law_command_economy
				}
			}
			add = 5
		}
		
		if = {
			#Fascist scare if communist them self?
			limit = {
				OR = {
					has_law = law_type:law_cooperative_ownership
					has_law = law_type:law_command_economy
				}
				any_neighbouring_state = {
					owner = {
						OR = {
							has_modifier = je_ut_new_dawn_fascist_focus
							has_variable = ut_new_dawn_core_fascist_var
						}
					}
				}
			}
			add = 2
		}
		if = {
			limit = {
				ruler = {
					ut_ideology_new_dawn_communist_trigger = yes
				}
			}
			add = 2
		}
	}
}

####Democratic Buttons####
je_ut_new_dawn_democratic_spirit = {
	name = "je_ut_new_dawn_democratic_spirit"
	desc = "je_ut_new_dawn_democratic_spirit_desc"

	possible = {
		custom_tooltip = {
			text = new_dawn_ideology_milestone_done_tt
			NOT = { has_variable = je_ut_new_dawn_democratic_spirit_done }
		}
		custom_tooltip = {
			text = new_dawn_ideology_required_points_tt
			je:je_ut_new_dawn_democratic = { 
				"scripted_bar_progress(je_ut_new_dawn_democratic_points_bar)" >= new_dawn_ideology_required_points
			}
		}
		OR = {
			has_law = law_type:law_parliamentary_republic
			has_law = law_type:law_presidential_republic
		}
		NOT = {
			any_interest_group = {
				is_in_government = yes
				leader = {
					OR = {
						has_ideology = ideology:ideology_fascist
						has_ideology = ideology:ideology_integralist
						has_ideology = ideology:ideology_ethno_nationalist
						has_ideology = ideology:ideology_communist
						has_ideology = ideology:ideology_vanguardist
						has_ideology = ideology:ideology_anarchist
					}
				}
			}
		}
	}

	effect = {		
		ig:ig_intelligentsia = {
			remove_ideology = ideology_liberal
			remove_ideology = ideology_liberal_modern
			add_ideology = ideology_liberal_democratic
		}
		ig:ig_petty_bourgeoisie = {
			remove_ideology = ideology_reactionary
			add_ideology = ideology_reactionary_democratic
		}
		set_variable = je_ut_new_dawn_democratic_spirit_done


		custom_tooltip = {
			text = new_dawn_ideology_required_points_spend_tt
			je:je_ut_new_dawn_democratic = {
				add_progress = { value = -50 name = je_ut_new_dawn_democratic_points_bar }
			}
		}
		if = {
			limit = {
				is_power_bloc_leader = yes
				has_identity = identity:identity_sovereign_empire
			}
			if = {
				limit = {
					any_country = {
						is_player = no
						is_power_bloc_leader = yes
						has_modifier = ut_new_dawn_core_democratic_mod
						save_temporary_scope_as = target_country
					}
				}
				
				join_power_bloc = scope:target_country
			}
			else = {
				random_country = {
					limit = {
						is_player = no
						is_power_bloc_leader = yes
						save_temporary_scope_as = target_country
					}
					root = {
						join_power_bloc = scope:target_country
					}
				}
			}
		}
	}

	ai_chance = {
		value = 10
	}
}

je_ut_new_dawn_democratic_cultural_values = {
	name = "je_ut_new_dawn_democratic_cultural_values"
	desc = "je_ut_new_dawn_democratic_cultural_values_desc"

	possible = {
		custom_tooltip = {
			text = new_dawn_ideology_milestone_done_tt
			NOT = { has_variable = je_ut_new_dawn_democratic_cultural_values_done }
		}
		custom_tooltip = {
			text = new_dawn_ideology_required_points_tt
			je:je_ut_new_dawn_democratic = { 
				"scripted_bar_progress(je_ut_new_dawn_democratic_points_bar)" >= new_dawn_ideology_required_points
			}
		}
        OR = {
            has_law = law_type:law_protected_speech
            has_law = law_type:law_right_of_assembly
        }
		ig:ig_devout = {
			OR = {
				is_marginal = yes
				custom_tooltip = {
					text = concept_ut_nd_democrat_interest_group_tt
					leader = {
						ut_ideology_new_dawn_democrat_trigger = yes
					}
				}
			}
		}
		ig:ig_industrialists = {
			OR = {
				is_marginal = yes
				custom_tooltip = {
					text = concept_ut_nd_democrat_interest_group_tt
					leader = {
						ut_ideology_new_dawn_democrat_trigger = yes
					}
				}
			}
		}
	}

	effect = {
		custom_tooltip = ut_influence_new_dawn_major_power_unlock_tt
		ig:ig_devout = {
			remove_ideology = ideology_moralist
			add_ideology = ideology_moralist_democratic
		}
		ig:ig_industrialists = {
			remove_ideology = ideology_plutocratic
			add_ideology = ideology_plutocratic_democratic
		}
		set_variable = je_ut_new_dawn_democratic_cultural_values_done


		custom_tooltip = {
			text = new_dawn_ideology_required_points_spend_tt
			je:je_ut_new_dawn_democratic = {
				add_progress = { value = -50 name = je_ut_new_dawn_democratic_points_bar }
			}
		}
	}

	ai_chance = {
		value = 10
	}
}

je_ut_new_dawn_democratic_power_bloc = {
	name = "je_ut_new_dawn_democratic_power_bloc"
	desc = "je_ut_new_dawn_democratic_power_bloc_desc"

	possible = {
		custom_tooltip = {
			text = new_dawn_ideology_milestone_done_tt
			NOT = { has_variable = je_ut_new_dawn_democratic_power_bloc_done }
		}
		custom_tooltip = {
			text = new_dawn_ideology_required_points_tt
			je:je_ut_new_dawn_democratic = { 
				"scripted_bar_progress(je_ut_new_dawn_democratic_points_bar)" >= new_dawn_ideology_required_points
			}
		}
		is_subject = no
		is_in_power_bloc = yes
		power_bloc ?= {
			NOT = { has_identity = identity:identity_sovereign_empire }
		}
	}

	effect = {
		set_variable = je_ut_new_dawn_democratic_power_bloc_done
		ig:ig_armed_forces = {
			remove_ideology = ideology_jingoist
			add_ideology = ideology_jingoist_democratic
		}
		add_modifier = {
			name = je_ut_new_dawn_democratic_power_bloc_mod
		}

		
		custom_tooltip = {
			text = new_dawn_ideology_required_points_spend_tt
			je:je_ut_new_dawn_democratic = {
				add_progress = { value = -50 name = je_ut_new_dawn_democratic_points_bar }
			}
		}
	}

	ai_chance = {
		value = 10
	}
}

je_ut_new_dawn_democratic_fair_elections = {
	name = "je_ut_new_dawn_democratic_fair_elections"
	desc = "je_ut_new_dawn_democratic_fair_elections_desc"

	possible = {
		custom_tooltip = {
			text = new_dawn_ideology_milestone_done_tt
			NOT = { has_variable = je_ut_new_dawn_democratic_fair_elections_done }
		}
		custom_tooltip = {
			text = new_dawn_ideology_required_points_tt
			je:je_ut_new_dawn_democratic = { 
				"scripted_bar_progress(je_ut_new_dawn_democratic_points_bar)" >= new_dawn_ideology_required_points
			}
		}
		has_law = law_type:law_universal_suffrage
	}

	effect = {
		set_variable = je_ut_new_dawn_democratic_fair_elections_done		
		add_modifier = {
			name = je_ut_new_dawn_democratic_fair_elections_mod
		}

		ig:ig_trade_unions = {
			remove_ideology = ideology_socialist
			add_ideology = ideology_socialist_democratic
		}
		
		custom_tooltip = {
			text = new_dawn_ideology_required_points_spend_tt
			je:je_ut_new_dawn_democratic = {
				add_progress = { value = -50 name = je_ut_new_dawn_democratic_points_bar }
			}
		}
	}

	ai_chance = {
		value = 10
	}
}

je_ut_new_dawn_democratic_final = {
	name = "je_ut_new_dawn_democratic_final"
	desc = "je_ut_new_dawn_democratic_final_desc"

	possible = {
		custom_tooltip = {
			text = new_dawn_ideology_milestone_done_tt
			NOT = { has_variable = je_ut_new_dawn_democratic_final_done }
		}
		custom_tooltip = {
			text = new_dawn_ideology_required_points_tt
			je:je_ut_new_dawn_democratic = { 
				"scripted_bar_progress(je_ut_new_dawn_democratic_points_bar)" >= new_dawn_ideology_required_points
			}
		}
		NOT = {
			any_country = {
				average_sol < 50
			}
		}
	}

	effect = {
		set_variable = je_ut_new_dawn_democratic_final_done		
	}
}

#Autocratic Buttons

je_ut_new_dawn_emergency_powers = {
	name = "je_ut_new_dawn_emergency_powers"
	desc = "je_ut_new_dawn_emergency_powers_desc"

	possible = {
		custom_tooltip = {
			text = new_dawn_ideology_required_points_tt
			je:je_ut_new_dawn_autocratic = { 
				"scripted_bar_progress(je_ut_new_dawn_autocratic_points_bar)" >= new_dawn_ideology_required_points
			}
		}
		NOT = { has_modifier = je_ut_new_dawn_emergency_powers_mod }
	}

	effect = {
		add_modifier = {
			name = je_ut_new_dawn_emergency_powers_mod
			days = normal_modifier_time
		}
		add_radicals = {
			value = 0.01
		}
		custom_tooltip = {
			text = new_dawn_ideology_required_points_spend_tt
			je:je_ut_new_dawn_autocratic = {
				add_progress = { value = -50 name = je_ut_new_dawn_autocratic_points_bar }
			}
		}
	}
}

je_ut_new_dawn_strengthen_power = {
	name = "je_ut_new_dawn_strengthen_power"
	desc = "je_ut_new_dawn_strengthen_power_desc"

	possible = {
		custom_tooltip = {
			text = new_dawn_ideology_required_points_tt
			je:je_ut_new_dawn_autocratic = { 
				"scripted_bar_progress(je_ut_new_dawn_autocratic_points_bar)" >= new_dawn_ideology_required_points
			}
		}
		NOT = { has_modifier = je_ut_new_dawn_strengthen_power_mod }
	}

	effect = {
		add_modifier = {
			name = je_ut_new_dawn_strengthen_power_mod
			days = long_modifier_time
		}
		add_radicals = {
			value = 0.01
		}
		
		custom_tooltip = {
			text = new_dawn_ideology_required_points_spend_tt
			je:je_ut_new_dawn_autocratic = {
				add_progress = { value = -50 name = je_ut_new_dawn_autocratic_points_bar }
			}
		}
	}
}

je_ut_new_dawn_border_dispute = {
	name = "je_ut_new_dawn_border_dispute"
	desc = "je_ut_new_dawn_border_dispute_desc"

	possible = {
		custom_tooltip = {
			text = new_dawn_ideology_required_points_tt
			je:je_ut_new_dawn_autocratic = { 
				"scripted_bar_progress(je_ut_new_dawn_autocratic_points_bar)" >= new_dawn_ideology_required_points
			}
		}
		NOT = { has_modifier = je_ut_new_dawn_border_dispute_mod }
	}

	effect = {
		add_modifier = {
			name = je_ut_new_dawn_border_dispute_mod
			days = normal_modifier_time
		}
		add_radicals = {
			value = 0.01
		}
		
		custom_tooltip = {
			text = new_dawn_ideology_required_points_spend_tt
			je:je_ut_new_dawn_autocratic = {
				add_progress = { value = -50 name = je_ut_new_dawn_autocratic_points_bar }
			}
		}
	}
}

je_ut_new_dawn_suppress_dissidents = {
	name = "je_ut_new_dawn_suppress_dissidents"
	desc = "je_ut_new_dawn_suppress_dissidents_desc"

	possible = {
		custom_tooltip = {
			text = new_dawn_ideology_required_points_tt
			je:je_ut_new_dawn_autocratic = { 
				"scripted_bar_progress(je_ut_new_dawn_autocratic_points_bar)" >= new_dawn_ideology_required_points
			}
		}
	}

	effect = {
		add_modifier = {
			name = je_ut_new_dawn_suppress_dissidents_mod
			days = normal_modifier_time
		}
		add_radicals = {
			value = 0.01
		}
		
		trigger_event = { id = event_new_dawn.30 }
		custom_tooltip = {
			text = event_new_dawn.30_tt
		}

		custom_tooltip = {
			text = new_dawn_ideology_required_points_spend_tt
			je:je_ut_new_dawn_autocratic = {
				add_progress = { value = -50 name = je_ut_new_dawn_autocratic_points_bar }
			}
		}
	}
}

#Fascist Buttons
je_ut_new_dawn_outlaw_communists = {
	name = "je_ut_new_dawn_outlaw_communists"
	desc = "je_ut_new_dawn_outlaw_communists_desc"

	visible = {
		NOT = {
			has_variable = je_ut_new_dawn_outlaw_communists_done
		}
	}

	possible = {
		always = no #disabled
		custom_tooltip = {
			text = new_dawn_ideology_required_points_tt
			je:je_ut_new_dawn_fascist = { 
				"scripted_bar_progress(je_ut_new_dawn_fascist_points_bar)" >= new_dawn_ideology_required_points
			}
		}
		has_law = law_type:law_single_party_state
	}

	effect = {
		custom_tooltip = {
			text = new_dawn_ideology_required_points_spend_tt
			je:je_ut_new_dawn_fascist = {
				add_progress = { value = -50 name = je_ut_new_dawn_fascist_points_bar }
			}
		}
		set_variable = {
			name = je_ut_new_dawn_outlaw_communists_done
		}
	}
}


je_ut_new_dawn_form_paramilitary_groups = {
	name = "je_ut_new_dawn_form_paramilitary_groups"
	desc = "je_ut_new_dawn_form_paramilitary_groups_desc"

	visible = {
		NOT = {
			has_variable = je_ut_new_dawn_form_paramilitary_groups_done
		}
	}

	possible = {
		always = no #disabled
		custom_tooltip = {
			text = new_dawn_ideology_required_points_tt
			je:je_ut_new_dawn_fascist = { 
				"scripted_bar_progress(je_ut_new_dawn_fascist_points_bar)" >= new_dawn_ideology_required_points
			}
		}
		OR = {
			has_law = law_type:law_secret_police
			has_law = law_type:law_national_guard
		}
	}

	effect = {
		custom_tooltip = {
			text = new_dawn_ideology_required_points_spend_tt
			je:je_ut_new_dawn_fascist = {
				add_progress = { value = -50 name = je_ut_new_dawn_fascist_points_bar }
			}
		}
		set_variable = {
			name = je_ut_new_dawn_form_paramilitary_groups_done
		}
	}
}


je_ut_new_dawn_conformity = {
	name = "je_ut_new_dawn_conformity"
	desc = "je_ut_new_dawn_conformity_desc"

	visible = {
		NOT = {
			has_variable = je_ut_new_dawn_conformity_done
		}
	}

	possible = {
		always = no #disabled
		custom_tooltip = {
			text = new_dawn_ideology_required_points_tt
			je:je_ut_new_dawn_fascist = { 
				"scripted_bar_progress(je_ut_new_dawn_fascist_points_bar)" >= new_dawn_ideology_required_points
			}
		}
		OR = {
			has_law = law_type:law_corporate_state
			has_law = law_type:ut_law_monarchy_corporate_state
		}
		#later corporate nazi state or smth
	}

	effect = {
		custom_tooltip = {
			text = new_dawn_ideology_required_points_spend_tt
			je:je_ut_new_dawn_fascist = {
				add_progress = { value = -50 name = je_ut_new_dawn_fascist_points_bar }
			}
		}
		set_variable = {
			name = je_ut_new_dawn_conformity_done
		}
	}
}

je_ut_new_dawn_unite_heritage = {
	name = "je_ut_new_dawn_unite_heritage"
	desc = "je_ut_new_dawn_unite_heritage_desc"

	visible = {
		NOT = {
			has_variable = je_ut_new_dawn_unite_heritage_done
		}
	}

	possible = {
		always = no #disabled
		custom_tooltip = {
			text = new_dawn_ideology_required_points_tt
			je:je_ut_new_dawn_fascist = { 
				"scripted_bar_progress(je_ut_new_dawn_fascist_points_bar)" >= new_dawn_ideology_required_points
			}
		}
		custom_tooltip = {
			text = je_ut_new_dawn_unite_heritage_trigger_tt
			NOT = {
				any_state = {
					is_homeland_of_country_cultures = c:SWE
					NOT = { owner = root }
				}
			}
		}
	}

	effect = {
		custom_tooltip = {
			text = new_dawn_ideology_required_points_spend_tt
			je:je_ut_new_dawn_fascist = {
				add_progress = { value = -50 name = je_ut_new_dawn_fascist_points_bar }
			}
		}
		set_variable = {
			name = je_ut_new_dawn_unite_heritage_done
		}
	}
}

je_ut_new_dawn_volksgemeinschaft = {
	name = "je_ut_new_dawn_volksgemeinschaft"
	desc = "je_ut_new_dawn_volksgemeinschaft_desc"

	visible = {
		NOT = {
			has_variable = je_ut_new_dawn_volksgemeinschaft_done
		}
	}

	possible = {
		always = no #disabled
		custom_tooltip = {
			text = new_dawn_ideology_required_points_tt
			je:je_ut_new_dawn_fascist = { 
				"scripted_bar_progress(je_ut_new_dawn_fascist_points_bar)" >= new_dawn_ideology_required_points
			}
		}
		
		OR = {
			has_law = law_type:law_ethnostate
			has_law = law_type:law_neo_ethno_state
		}
	}

	effect = {
		custom_tooltip = {
			text = new_dawn_ideology_required_points_spend_tt
			je:je_ut_new_dawn_fascist = {
				add_progress = { value = -50 name = je_ut_new_dawn_fascist_points_bar }
			}
		}
		set_variable = {
			name = je_ut_new_dawn_volksgemeinschaft_done
		}
	}
}

je_ut_new_dawn_expansionism = {
	name = "je_ut_new_dawn_expansionism"
	desc = "je_ut_new_dawn_expansionism_desc"

	visible = {
		NOT = {
			has_variable = je_ut_new_dawn_expansionism_done
		}
	}

	possible = {
		always = no #disabled
		custom_tooltip = {
			text = new_dawn_ideology_required_points_tt
			je:je_ut_new_dawn_fascist = { 
				"scripted_bar_progress(je_ut_new_dawn_fascist_points_bar)" >= new_dawn_ideology_required_points
			}
		}
		NOT = {
			any_country = {
				OR = {
					NOT = { this = root }
					NOT = { is_subject_of = root }
				}
				has_strategic_adjacency = root
			}
		}
	}

	effect = {
		custom_tooltip = {
			text = new_dawn_ideology_required_points_spend_tt
			je:je_ut_new_dawn_fascist = {
				add_progress = { value = -50 name = je_ut_new_dawn_fascist_points_bar }
			}
		}
		set_variable = {
			name = je_ut_new_dawn_expansionism_done
		}
	}
}

je_ut_communist_one_communist_party = {
	name = "je_ut_communist_one_communist_party"
	desc = "je_ut_communist_one_communist_party_desc"

	visible = {
		NOT = {
			has_variable = je_ut_communist_one_communist_party_done
			has_variable = je_ut_communist_a_communist_party_done
		}
	}

	possible = {
		always = no #disabled
		custom_tooltip = {
			text = new_dawn_ideology_required_points_tt
			je:je_ut_new_dawn_communist = { 
				"scripted_bar_progress(je_ut_new_dawn_communist_points_bar)" >= new_dawn_ideology_required_points
			}
		}
		has_law = law_type:law_command_economy
		has_law = law_type:law_single_party_state
	}

	effect = {
		custom_tooltip = {
			text = new_dawn_ideology_required_points_spend_tt
			je:je_ut_new_dawn_communist = {
				add_progress = { value = -50 name = je_ut_new_dawn_communist_points_bar }
			}
		}
		every_interest_group = {
			limit = {
				has_ideology = ideology:ideology_plutocratic
			}
			remove_ideology = ideology_plutocratic
			add_ideology = ideology_plutocratic_democratic
		}
		set_variable = je_ut_communist_one_communist_party_done
	}
}

je_ut_communist_a_communist_party = {
	name = "je_ut_communist_a_communist_party"
	desc = "je_ut_communist_a_communist_party_desc"

	visible = {
		NOT = {
			has_variable = je_ut_communist_one_communist_party_done
			has_variable = je_ut_communist_a_communist_party_done
		}
	}

	possible = {
		always = no #disabled
		custom_tooltip = {
			text = new_dawn_ideology_required_points_tt
			je:je_ut_new_dawn_communist = { 
				"scripted_bar_progress(je_ut_new_dawn_communist_points_bar)" >= new_dawn_ideology_required_points
			}
		}
		has_law = law_type:law_universal_suffrage
		has_law = law_type:law_cooperative_ownership
	}

	effect = {
		custom_tooltip = {
			text = new_dawn_ideology_required_points_spend_tt
			je:je_ut_new_dawn_communist = {
				add_progress = { value = -50 name = je_ut_new_dawn_communist_points_bar }
			}
		}
		set_variable = je_ut_communist_a_communist_party_done
	}
}

je_ut_communist_one_block = {
	name = "je_ut_communist_one_block"
	desc = "je_ut_communist_one_block_desc"

	visible = {
		NOT = {
			has_variable = je_ut_communist_one_block_done
		}
	}

	possible = {
		always = no #disabled
		custom_tooltip = {
			text = new_dawn_ideology_required_points_tt
			je:je_ut_new_dawn_communist = { 
				"scripted_bar_progress(je_ut_new_dawn_communist_points_bar)" >= new_dawn_ideology_required_points
			}
		}
		is_power_bloc_leader = yes
		power_bloc ?= {
			any_power_bloc_member = {
				is_subject_of = root
			}
		}
	}

	effect = {
		custom_tooltip = {
			text = new_dawn_ideology_required_points_spend_tt
			je:je_ut_new_dawn_communist = {
				add_progress = { value = -50 name = je_ut_new_dawn_communist_points_bar }
			}
		}
		set_variable = je_ut_communist_one_block_done
	}
}

je_ut_communist_one_people = {
	name = "je_ut_communist_one_people"
	desc = "je_ut_communist_one_people_desc"

	visible = {
		NOT = {
			has_variable = je_ut_communist_one_people_done
		}
	}

	possible = {
		always = no #disabled
		custom_tooltip = {
			text = new_dawn_ideology_required_points_tt
			je:je_ut_new_dawn_communist = { 
				"scripted_bar_progress(je_ut_new_dawn_communist_points_bar)" >= new_dawn_ideology_required_points
			}
		}
		any_neighbouring_state = {
			owner = {
				is_in_same_power_bloc = root
			}
		}
	}

	effect = {
		custom_tooltip = {
			text = new_dawn_ideology_required_points_spend_tt
			je:je_ut_new_dawn_communist = {
				add_progress = { value = -50 name = je_ut_new_dawn_communist_points_bar }
			}
		}
		set_variable = je_ut_communist_one_people_done
	}
}

je_ut_communist_final = {
	name = "je_ut_communist_final"
	desc = "je_ut_communist_final_desc"

	visible = {
		NOT = {
			has_variable = je_ut_communist_final_done
		}
	}

	possible = {
		always = no #disabled
		custom_tooltip = {
			text = new_dawn_ideology_required_points_tt
			je:je_ut_new_dawn_communist = { 
				"scripted_bar_progress(je_ut_new_dawn_communist_points_bar)" >= new_dawn_ideology_required_points
			}
		}
		standard_of_living > 50
		NOT = {
			any_country = {
				NOT = { has_law = law_type:law_cooperative_ownership }
			}
		}
	}

	effect = {
		custom_tooltip = {
			text = new_dawn_ideology_required_points_spend_tt
			je:je_ut_new_dawn_communist = {
				add_progress = { value = -50 name = je_ut_new_dawn_communist_points_bar }
			}
		}
		set_variable = je_ut_communist_final_done
	}
}