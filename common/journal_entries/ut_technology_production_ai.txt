

heavy_industrial_machinery_je = {
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	group = je_group_technology

	is_shown_when_inactive = {
		has_technology_researched = mechanized_workshops
		NOT = { has_variable = heavy_industrial_machinery_done }
	}

	possible = {
		has_technology_researched = heavy_machinery_era_analog
	}

	complete = {
		any_scope_building = {
			is_building_type = building_heavy_machinery_factory
			level >= 5
			occupancy > 0.75
			cash_reserves_ratio > 0.25
			weekly_profit > 0
		}
	}

	on_complete = {
		trigger_event = {
			id = utopia.journal.prod.heavy_industrial_machinery_je.success
		}
		set_variable = {
			name = heavy_industrial_machinery_done
		}
	}

	on_fail = {
		trigger_event = {
			id = utopia.journal.prod.heavy_industrial_machinery_je.fail
		}
	}

	timeout = 3650  # 10 years
}

cnc_machines_je = {
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	group = je_group_technology

	is_shown_when_inactive = {
		has_technology_researched = heavy_machinery_era_digital
	}

	possible = {
		has_technology_researched = heavy_machinery_era_digital
		any_scope_building = {
			is_building_type = building_heavy_machinery_factory
		}
	}

	complete = {
		any_scope_building = {
			is_building_type = building_heavy_machinery_factory
			level >= 8
			occupancy > 0.90
			cash_reserves_ratio > 0.30
			has_active_production_method = pm_heavy_machinery_digital_process
		}
	}

	on_complete = {
		trigger_event = {
			id = utopia.journal.prod.cnc_machines_je.success
		}
	}

	on_fail = {
		trigger_event = {
			id = utopia.journal.prod.cnc_machines_je.fail
		}
	}
	
	timeout = 3650
}

heavy_tractors_je = {
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	group = je_group_technology

	is_shown_when_inactive = {
		has_technology_researched = heavy_machinery_farming
	}

	possible = {
		has_technology_researched = heavy_machinery_farming
	}

	complete = {
		any_scope_building = {
			filter = {
				OR = {
					is_building_type = building_rye_farm
					is_building_type = building_wheat_farm
					is_building_type = building_maize_farm
					is_building_type = building_millet_farm
				}
			}
			percent >= 0.5
			OR = {
				has_active_production_method = pm_farms_heavy_machinery_support
				has_active_production_method = pm_farms_heavy_machinery_support_rice
			}
			cash_reserves_ratio > 0.25
			weekly_profit > 0
			occupancy > 0.75
		}
	}

	on_complete = {
		trigger_event = {
			id = utopia.journal.prod.heavy_tractors_je
		} 
	}
	
	timeout = 3650
}

agrarian_planes_je = {
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	group = je_group_technology

	is_shown_when_inactive = {
		has_technology_researched = airplane_farming
	}

	possible = {
		has_technology_researched = airplane_farming
	}

	complete = {
		any_scope_building = {
			filter = {
				OR = {
					is_building_type = building_rye_farm
					is_building_type = building_wheat_farm
					is_building_type = building_maize_farm
					is_building_type = building_millet_farm
				}
			}
			percent >= 0.5
			OR = {
				has_active_production_method = pm_farms_plane_support
				has_active_production_method = pm_farms_plane_support_rice
			}
			cash_reserves_ratio > 0.25
			weekly_profit > 0
			occupancy > 0.75
		}
	}

	on_complete = {
		trigger_event = {
			id = utopia.journal.prod.agrarian_planes_je
		}
	}
	
	timeout = 3650
}

plastic_je = {
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	group = je_group_technology

	is_shown_when_inactive = {
		has_technology_researched = plastics_nylon
	}

	possible = {
		has_technology_researched = plastics_nylon
	}

	complete = {
		any_scope_building = {
			is_building_type = building_plastic_factory
			level >= 5
			occupancy > 0.75
			has_active_production_method = pm_plastic_one_process
			weekly_profit > 500
		}
	}

	on_complete = {
		trigger_event = {
			id = utopia.journal.prod.plastic_je
		}
	}
	
	timeout = 3650
}

electronics_je = {
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	group = je_group_technology

	is_shown_when_inactive = {
		has_technology_researched = electronics
	}

	possible = {
		has_technology_researched = electronics
	}

	complete = {
		any_scope_building = {
			is_building_type = building_electrics_industry
			level >= 5
			cash_reserves_ratio > 0.25
			weekly_profit > 0
			occupancy > 0.75
		}
	}

	on_complete = {
		trigger_event = {
			id = utopia.journal.prod.electronics_je
		}
	}
	
	timeout = 3650
}

computers_je = {
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	group = je_group_technology

	is_shown_when_inactive = {
		has_technology_researched = electronics
	}

	possible = {
		has_technology_researched = electronics
	}

	complete = {
		any_scope_building = {
			is_building_type = building_electrics_industry
			level >= 5
			cash_reserves_ratio > 0.25
			weekly_profit > 0
			occupancy > 0.75
		}
	}

	on_complete = {
		trigger_event = {
			id = utopia.journal.prod.computers_je
		}
	}
	
	timeout = 3650
}



software_je = {
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	group = je_group_technology

	is_shown_when_inactive = {
		has_technology_researched = electronics
	}

	possible = {
		has_technology_researched = electronics
	}

	complete = {
		any_scope_building = {
			is_building_type = building_electrics_industry
			level >= 5
			cash_reserves_ratio > 0.25
			weekly_profit > 0
			occupancy > 0.75
		}
	}

	on_complete = {
		trigger_event = {
			id = utopia.utopia.journal.prod.software_je
		}
	}
	
	timeout = 3650
}

consumer_goods_simple_je = {
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	group = je_group_technology

	is_shown_when_inactive = {
		has_technology_researched = electronics
	}

	possible = {
		has_technology_researched = electronics
	}

	complete = {
		any_scope_building = {
			is_building_type = building_electrics_industry
			level >= 5
			cash_reserves_ratio > 0.25
			weekly_profit > 0
			occupancy > 0.75
		}
	}

	on_complete = {
		trigger_event = {
			id = utopia.journal.prod.consumer_goods_simple_je
		}
	}
	
	timeout = 3650
}

consumer_goods_complex_je = {
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	group = je_group_technology

	is_shown_when_inactive = {
		has_technology_researched = electronics
	}

	possible = {
		has_technology_researched = electronics
	}

	complete = {
		any_scope_building = {
			is_building_type = building_electrics_industry
			level >= 5
			cash_reserves_ratio > 0.25
			weekly_profit > 0
			occupancy > 0.75
		}
	}

	on_complete = {
		trigger_event = {
			id = utopia.utopia.journal.prod.consumer_goods_complex_je
		}
	}
	
	timeout = 3650
}