namespace = utopia_mod

utopia_mod.1 = {
	type = country_event

	trigger = {
		NOT = { has_technology_researched = high_tech_computers }
		has_technology_researched = rare_earths_mining_era_analog
		has_technology_researched = computers
		has_global_highest_innovation = yes
	}

	event_image = {
		video = "unspecific_trains"
	}

	duration = 3

	placement = ROOT

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	title = metro.1.t
	desc = metro.1.d
	flavor = metro.1.f


	option = {
		name = metro.1.a
		default_option = yes
		add_technology_researched = high_tech_computers
	}
}

utopia_mod.2 = {
	type = country_event

	event_image = {
		video = "unspecific_trains"
	}

	duration = 3

	placement = ROOT

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	title = utopia_mod.2.t
	desc = utopia_mod.2.d
	flavor = utopia_mod.2.f


	option = {
		name = utopia.continue
		default_option = yes
	}
	option = {
		name = utopia.cheat
		add_modifier = {
			name = ut_tech_preview_cheat_research_modifier
			days = 182
		}
	}
	option = {
		name = utopia.disable
		custom_tooltip = ut_tech_preview_cheat_disable_tt
		set_global_variable = ut_tech_preview_cheat_disable
	}
}

#tax ammend
utopia_mod.3 = {
	type = country_event
	placement = ROOT

	event_image = {
		video = "unspecific_trains"
	}

	duration = 3


	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	title = ut_law_tax_code
	desc = ut_law_tax_code
	flavor = ut_law_tax_code_desc


	option = {
		name = utopia.continue
		default_option = yes
	}
	option = {
		name = ut_tax_code_income_tax_raised
		trigger = {
			OR = {
				NOT = { has_modifier = ut_tax_code_income_tax_raised }
				has_modifier = ut_tax_code_income_tax_lowered
			}
		}
		if = {
			limit = {
				has_modifier = ut_tax_code_income_tax_lowered
			}
			remove_modifier = ut_tax_code_income_tax_lowered
		}
		else = {
			add_modifier = ut_tax_code_income_tax_raised			
		}
		
		add_modifier = {
			name = ut_tax_code_changed
			days = 1460  #4y
		}
	}
	option = {
		name = ut_tax_code_income_tax_lowered
		trigger = {
			OR = {
				NOT = { has_modifier = ut_tax_code_income_tax_lowered }
				has_modifier = ut_tax_code_income_tax_raised
			}
		}
		if = {
			limit = {
				has_modifier = ut_tax_code_income_tax_raised
			}
			remove_modifier = ut_tax_code_income_tax_raised
		}
		else = {
			add_modifier = ut_tax_code_income_tax_lowered			
		}
		add_modifier = {
			name = ut_tax_code_changed
			days = 1460  #4y
		}
	}

	#Only raisable up
	option = {
		name = ut_tax_code_consumption_tax_raised
		trigger = {
			NOT = { has_modifier = ut_tax_code_consumption_tax_raised }
		}
		
		add_modifier = ut_tax_code_consumption_tax_raised
		add_modifier = {
			name = ut_tax_code_changed
			days = 1460  #4y
		}
	}
	
	 #Only raisable remove
	option = {
		name = ut_tax_code_consumption_tax_lower
		trigger = {
			has_modifier = ut_tax_code_consumption_tax_raised
		}
		remove_modifier = ut_tax_code_consumption_tax_raised
		add_modifier = {
			name = ut_tax_code_changed
			days = 1460  #4y
		}
	}
	
	option = {
		name = ut_tax_code_dividend_tax_raised
		trigger = {
			OR = {
				NOT = { has_modifier = ut_tax_code_dividend_tax_raised }
				has_modifier = ut_tax_code_dividend_tax_lowered
			}
		}
		if = {
			limit = {
				has_modifier = ut_tax_code_dividend_tax_lowered
			}
			remove_modifier = ut_tax_code_dividend_tax_lowered
		}
		else = {
			add_modifier = ut_tax_code_dividend_tax_raised
		}
		add_modifier = {
			name = ut_tax_code_changed
			days = 1460  #4y
		}
	}
	option = {
		name = ut_tax_code_dividend_tax_lowered
		trigger = {
			OR = {
				NOT = { has_modifier = ut_tax_code_dividend_tax_lowered }
				has_modifier = ut_tax_code_dividend_tax_raised
			}
		}
		if = {
			limit = {
				has_modifier = ut_tax_code_dividend_tax_raised
			}
			remove_modifier = ut_tax_code_dividend_tax_raised
		}
		else = {
			add_modifier = ut_tax_code_dividend_tax_lowered
		}
		add_modifier = {
			name = ut_tax_code_changed
			days = 1460  #4y
		}
	}
	after = {
		remove_variable = ut_law_tax_code_amend_lock
	}
}

#free market ammend
utopia_mod.4 = {
	type = country_event
	placement = ROOT

	event_image = {
		video = "unspecific_trains"
	}

	duration = 3


	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	title = ut_law_tax_code
	desc = ut_law_tax_code
	flavor = ut_law_tax_code_desc


	option = {
		name = utopia.continue
		default_option = yes
	}
	option = {
		name = ut_private_construction_amend
		add_modifier = ut_private_construction_raised_mod
		
		add_modifier = {
			name = ut_private_construction_changed
			days = 3650
		}
	}
	option = {
		name = ut_private_construction_lower
		trigger = {
			has_modifier = ut_private_construction_raised_mod
		}
		remove_modifier = ut_private_construction_raised_mod
		
		add_modifier = {
			name = ut_private_construction_changed
			days = 3650
		}
	}
	after = {
		remove_variable = ut_private_construction_amend_lock
	}
}