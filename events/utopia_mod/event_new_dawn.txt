namespace = event_new_dawn

#New Dawn start
event_new_dawn.1 = {
	type = country_event

	event_image = {
		video = "unspecific_trains"
	}
	
	trigger = {
		NOT = { has_variable = event_new_dawn_started }
	}

	duration = 3

	placement = ROOT

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	title = event_new_dawn.1.t
	desc = event_new_dawn.1.d
	flavor = event_new_dawn.1.f
	
	immediate = {
		set_variable = event_new_dawn_started
	}

	option = {
		name = event_new_dawn.1.a
		default_option = yes
	}
}

#New Dawn Winner in Power
event_new_dawn.2 = {
	type = country_event
	placement = ROOT
	title = event_new_dawn.2.a 
	desc = {
		first_valid = {
			triggered_desc = {
				desc = event_new_dawn.2.d.f
				trigger = {
					je:je_ut_new_dawn = { 
						"scripted_bar_progress(ut_new_dawn_fascist_bar)" > "scripted_bar_progress(ut_new_dawn_democrat_bar)"
						"scripted_bar_progress(ut_new_dawn_fascist_bar)" > "scripted_bar_progress(ut_new_dawn_communist_bar)" 
						"scripted_bar_progress(ut_new_dawn_fascist_bar)" > "scripted_bar_progress(ut_new_dawn_autocrat_bar)"
					}
				}
			}
			triggered_desc = {
				desc = event_new_dawn.2.d.d
				trigger = {
					je:je_ut_new_dawn = { 
						"scripted_bar_progress(ut_new_dawn_democrat_bar)" > "scripted_bar_progress(ut_new_dawn_communist_bar)"
						"scripted_bar_progress(ut_new_dawn_democrat_bar)" > "scripted_bar_progress(ut_new_dawn_fascist_bar)" 
						"scripted_bar_progress(ut_new_dawn_democrat_bar)" > "scripted_bar_progress(ut_new_dawn_autocrat_bar)"
					}
				}
			}
			triggered_desc = {
				desc = event_new_dawn.2.d.c
				trigger = {
					je:je_ut_new_dawn = { 
						"scripted_bar_progress(ut_new_dawn_communist_bar)" > "scripted_bar_progress(ut_new_dawn_democrat_bar)"
						"scripted_bar_progress(ut_new_dawn_communist_bar)" > "scripted_bar_progress(ut_new_dawn_fascist_bar)" 
						"scripted_bar_progress(ut_new_dawn_communist_bar)" > "scripted_bar_progress(ut_new_dawn_autocrat_bar)"
					}
				}
			}
			triggered_desc = {
				desc = event_new_dawn.2.d.a
				trigger = {
					je:je_ut_new_dawn = { 
						"scripted_bar_progress(ut_new_dawn_autocrat_bar)" > "scripted_bar_progress(ut_new_dawn_democrat_bar)"
						"scripted_bar_progress(ut_new_dawn_autocrat_bar)" > "scripted_bar_progress(ut_new_dawn_fascist_bar)"
						"scripted_bar_progress(ut_new_dawn_autocrat_bar)" > "scripted_bar_progress(ut_new_dawn_communist_bar)"
					}
				}
			}
		}
	}
	flavor = {
		first_valid = {
			triggered_desc = {
				desc = event_new_dawn.2.f.f
				trigger = {
					je:je_ut_new_dawn = { 
						"scripted_bar_progress(ut_new_dawn_fascist_bar)" > "scripted_bar_progress(ut_new_dawn_democrat_bar)"
						"scripted_bar_progress(ut_new_dawn_fascist_bar)" > "scripted_bar_progress(ut_new_dawn_communist_bar)" 
						"scripted_bar_progress(ut_new_dawn_fascist_bar)" > "scripted_bar_progress(ut_new_dawn_autocrat_bar)"
					}
				}
			}
			triggered_desc = {
				desc = event_new_dawn.2.f.d
				trigger = {
					je:je_ut_new_dawn = { 
						"scripted_bar_progress(ut_new_dawn_democrat_bar)" > "scripted_bar_progress(ut_new_dawn_communist_bar)"
						"scripted_bar_progress(ut_new_dawn_democrat_bar)" > "scripted_bar_progress(ut_new_dawn_fascist_bar)" 
						"scripted_bar_progress(ut_new_dawn_democrat_bar)" > "scripted_bar_progress(ut_new_dawn_autocrat_bar)"
					}
				}
			}
			triggered_desc = {
				desc = event_new_dawn.2.f.c
				trigger = {
					je:je_ut_new_dawn = { 
						"scripted_bar_progress(ut_new_dawn_communist_bar)" > "scripted_bar_progress(ut_new_dawn_democrat_bar)"
						"scripted_bar_progress(ut_new_dawn_communist_bar)" > "scripted_bar_progress(ut_new_dawn_fascist_bar)" 
						"scripted_bar_progress(ut_new_dawn_communist_bar)" > "scripted_bar_progress(ut_new_dawn_autocrat_bar)"
					}
				}
			}
			triggered_desc = {
				desc = event_new_dawn.2.f.a
				trigger = {
					je:je_ut_new_dawn = { 
						"scripted_bar_progress(ut_new_dawn_autocrat_bar)" > "scripted_bar_progress(ut_new_dawn_democrat_bar)"
						"scripted_bar_progress(ut_new_dawn_autocrat_bar)" > "scripted_bar_progress(ut_new_dawn_fascist_bar)"
						"scripted_bar_progress(ut_new_dawn_autocrat_bar)" > "scripted_bar_progress(ut_new_dawn_communist_bar)"
					}
				}
			}
		}
	}

	event_image = {
		video = "unspecific_trains"
	}

	duration = 3

	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	#gui_window = event_window_1char_tabloid

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	trigger = {
		# triggered by new dawn journal entry
	}

	cancellation_trigger = {
		always = no
	}

	immediate = {
		#set_variable = { name = pretender_enthroned_cooldown years = 1 }
		root = {
			save_scope_as = reflexive_reference_root
		}
		if = {
			limit = {
				ut_new_dawn_fascist_bar_most_trigger = yes
			}
			remove_variable = ut_new_dawn_core_democrat_var
			remove_variable = ut_new_dawn_core_communist_var
			remove_variable = ut_new_dawn_core_autocrat_var
			set_variable = {
				name = ut_new_dawn_core_fascist_var
			}
		}
		else_if = {
			limit = {
				ut_new_dawn_communist_bar_most_trigger = yes
			}
			remove_variable = ut_new_dawn_core_fascist_var
			remove_variable = ut_new_dawn_core_democrat_var
			remove_variable = ut_new_dawn_core_autocrat_var
			set_variable = {
				name = ut_new_dawn_core_communist_var
			}
		}
		else_if = {
			limit = {
				ut_new_dawn_democrat_bar_most_trigger = yes
			}
			remove_variable = ut_new_dawn_core_fascist_var
			remove_variable = ut_new_dawn_core_communist_var
			remove_variable = ut_new_dawn_core_autocrat_var
			set_variable = {
				name = ut_new_dawn_core_democrat_var
			}
		}
		else_if = {
			limit = {
				ut_new_dawn_autocrat_bar_most_trigger = yes
			}
			remove_variable = ut_new_dawn_core_fascist_var
			remove_variable = ut_new_dawn_core_communist_var
			remove_variable = ut_new_dawn_core_democrat_var
			set_variable = {
				name = ut_new_dawn_core_autocrat_var
			}
		}
	}

	option = {
		name = event_new_dawn.2.a # Take over by focused ideology
		default_option = yes
		
		if = {
			limit = {
				ut_new_dawn_democrat_bar_most_trigger = yes
			}

			add_journal_entry = {
				type = je_ut_new_dawn_democratic
			}
		}
		else_if = {
			limit = {
				ut_new_dawn_fascist_bar_most_trigger = yes
			}
			add_journal_entry = {
				type = je_ut_new_dawn_fascist
			}
		}
		else_if = {
			limit = {
				ut_new_dawn_communist_bar_most_trigger = yes
			}
			add_journal_entry = {
				type = je_ut_new_dawn_communist
			}
		}
		else_if = {
			limit = {
				ut_new_dawn_autocrat_bar_most_trigger = yes
			}
			add_journal_entry = {
				type = je_ut_new_dawn_autocratic
			}
		}
		else = {
			custom_tooltip = {
				text = utopia.error
			}
		}
	}
}

#New Dawn Winner not in Power
event_new_dawn.3 = {
	type = country_event
	placement = ROOT
	title = event_new_dawn.3.t
	desc = {
		first_valid = {
			triggered_desc = {
				desc = event_new_dawn.3.d.f
				trigger = {
					je:je_ut_new_dawn = { 
						"scripted_bar_progress(ut_new_dawn_fascist_bar)" > "scripted_bar_progress(ut_new_dawn_democrat_bar)"
						"scripted_bar_progress(ut_new_dawn_fascist_bar)" > "scripted_bar_progress(ut_new_dawn_communist_bar)" 
						"scripted_bar_progress(ut_new_dawn_fascist_bar)" > "scripted_bar_progress(ut_new_dawn_autocrat_bar)"
					}
				}
			}
			triggered_desc = {
				desc = event_new_dawn.3.d.d
				trigger = {
					je:je_ut_new_dawn = { 
						"scripted_bar_progress(ut_new_dawn_democrat_bar)" > "scripted_bar_progress(ut_new_dawn_communist_bar)"
						"scripted_bar_progress(ut_new_dawn_democrat_bar)" > "scripted_bar_progress(ut_new_dawn_fascist_bar)" 
						"scripted_bar_progress(ut_new_dawn_democrat_bar)" > "scripted_bar_progress(ut_new_dawn_autocrat_bar)"
					}
				}
			}
			triggered_desc = {
				desc = event_new_dawn.3.d.c
				trigger = {
					je:je_ut_new_dawn = { 
						"scripted_bar_progress(ut_new_dawn_communist_bar)" > "scripted_bar_progress(ut_new_dawn_democrat_bar)"
						"scripted_bar_progress(ut_new_dawn_communist_bar)" > "scripted_bar_progress(ut_new_dawn_fascist_bar)" 
						"scripted_bar_progress(ut_new_dawn_communist_bar)" > "scripted_bar_progress(ut_new_dawn_autocrat_bar)"
					}
				}
			}
			
			triggered_desc = {
				desc = event_new_dawn.3.d.a
				trigger = {
					je:je_ut_new_dawn = { 
						"scripted_bar_progress(ut_new_dawn_autocrat_bar)" > "scripted_bar_progress(ut_new_dawn_democrat_bar)"
						"scripted_bar_progress(ut_new_dawn_autocrat_bar)" > "scripted_bar_progress(ut_new_dawn_fascist_bar)"
						"scripted_bar_progress(ut_new_dawn_autocrat_bar)" > "scripted_bar_progress(ut_new_dawn_communist_bar)"
					}
				}
			}
		}
	}
	flavor = {
		first_valid = {
			triggered_desc = {
				desc = event_new_dawn.3.f.f
				trigger = {
					je:je_ut_new_dawn = { 
						"scripted_bar_progress(ut_new_dawn_fascist_bar)" > "scripted_bar_progress(ut_new_dawn_democrat_bar)"
						"scripted_bar_progress(ut_new_dawn_fascist_bar)" > "scripted_bar_progress(ut_new_dawn_communist_bar)" 
						"scripted_bar_progress(ut_new_dawn_fascist_bar)" > "scripted_bar_progress(ut_new_dawn_autocrat_bar)"
					}
				}
			}
			triggered_desc = {
				desc = event_new_dawn.3.f.d
				trigger = {
					je:je_ut_new_dawn = { 
						"scripted_bar_progress(ut_new_dawn_democrat_bar)" > "scripted_bar_progress(ut_new_dawn_communist_bar)"
						"scripted_bar_progress(ut_new_dawn_democrat_bar)" > "scripted_bar_progress(ut_new_dawn_fascist_bar)" 
						"scripted_bar_progress(ut_new_dawn_democrat_bar)" > "scripted_bar_progress(ut_new_dawn_autocrat_bar)"
					}
				}
			}
			triggered_desc = {
				desc = event_new_dawn.3.f.c
				trigger = {
					je:je_ut_new_dawn = { 
						"scripted_bar_progress(ut_new_dawn_communist_bar)" > "scripted_bar_progress(ut_new_dawn_democrat_bar)"
						"scripted_bar_progress(ut_new_dawn_communist_bar)" > "scripted_bar_progress(ut_new_dawn_fascist_bar)" 
						"scripted_bar_progress(ut_new_dawn_communist_bar)" > "scripted_bar_progress(ut_new_dawn_autocrat_bar)"
					}
				}
			}
			triggered_desc = {
				desc = event_new_dawn.3.f.a
				trigger = {
					je:je_ut_new_dawn = {
						"scripted_bar_progress(ut_new_dawn_autocrat_bar)" > "scripted_bar_progress(ut_new_dawn_democrat_bar)"
						"scripted_bar_progress(ut_new_dawn_autocrat_bar)" > "scripted_bar_progress(ut_new_dawn_fascist_bar)"
						"scripted_bar_progress(ut_new_dawn_autocrat_bar)" > "scripted_bar_progress(ut_new_dawn_communist_bar)"
					}
				}
			}
		}
	}

	event_image = {
		video = "unspecific_airship"
	}

	duration = 3

	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	#gui_window = event_window_1char_tabloid
	
	#left_icon = scope:french_monarch_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	trigger = {
		# triggered by Divided Monarchy Journal Entry
	}

	cancellation_trigger = {
		always = no
	}

	immediate = {
		
	}
	# Take over by non focused ideology
	option = {
		name = event_new_dawn.3.a 
		default_option = yes
		if = {
			limit = {
				ut_new_dawn_fascist_bar_most_trigger = yes
			}
			remove_variable = ut_new_dawn_core_democrat_var
			remove_variable = ut_new_dawn_core_communist_var
			remove_variable = ut_new_dawn_core_autocrat_var
			set_variable = {
				name = ut_new_dawn_core_fascist_var
			}
			custom_tooltip = {
				text = event_new_dawn.uprising.fascist_win
			}
			add_journal_entry = {
				type = je_ut_new_dawn_fascist
			}
		}
		else_if = {
			limit = {
				ut_new_dawn_communist_bar_most_trigger = yes
			}
			remove_variable = ut_new_dawn_core_fascist_var
			remove_variable = ut_new_dawn_core_democrat_var
			remove_variable = ut_new_dawn_core_autocrat_var
			set_variable = {
				name = ut_new_dawn_core_communist_var
			}
			custom_tooltip = {
				text = event_new_dawn.uprising.communist_win
			}
			add_journal_entry = {
				type = je_ut_new_dawn_communist
			}
		}
		else_if = {
			limit = {
				ut_new_dawn_democrat_bar_most_trigger = yes
			}
			remove_variable = ut_new_dawn_core_fascist_var
			remove_variable = ut_new_dawn_core_communist_var
			remove_variable = ut_new_dawn_core_autocrat_var
			set_variable = {
				name = ut_new_dawn_core_democrat_var
			}
			
			custom_tooltip = {
				text = event_new_dawn.uprising.democrat_win
			}
			add_journal_entry = {
				type = je_ut_new_dawn_democratic
			}
		}
		else_if = {
			limit = {
				ut_new_dawn_autocrat_bar_most_trigger = yes
			}
			remove_variable = ut_new_dawn_core_fascist_var
			remove_variable = ut_new_dawn_core_communist_var
			remove_variable = ut_new_dawn_core_democrat_var
			set_variable = {
				name = ut_new_dawn_core_autocrat_var
			}
			add_journal_entry = {
				type = je_ut_new_dawn_autocratic
			}
		}
	}
	# Suppress
	option = {
		name = event_new_dawn.3.b 
		trigger = {
			NOT = { has_variable = ut_new_dawn_core_suppressed_winner_1_var }
		}
		add_radicals = {
			value = 0.20
		}
		if = {
			limit = {
				ut_new_dawn_fascist_bar_most_trigger = yes
			}
			je:je_ut_new_dawn = {
				add_progress = { value = -120 name = ut_new_dawn_fascist_bar }
			}

			custom_tooltip = {
				text = event_new_dawn.uprising.setback_fascist
			}
		}
		else_if = {
			limit = {
				ut_new_dawn_communist_bar_most_trigger = yes
			}
			
			je:je_ut_new_dawn = {
				add_progress = { value = -120 name = ut_new_dawn_communist_bar }
			}

			custom_tooltip = {
				text = event_new_dawn.uprising.setback_communist
			}
		}
		else_if = {
			limit = {
				ut_new_dawn_democrat_bar_most_trigger = yes
			}
			
			je:je_ut_new_dawn = {
				add_progress = { value = -120 name = ut_new_dawn_democrat_bar }	
			}

			custom_tooltip = {
				text = event_new_dawn.uprising.setback_democrat
			}
		}
		else_if = {
			limit = {
				ut_new_dawn_autocrat_bar_most_trigger = yes
			}
			je:je_ut_new_dawn = {
				add_progress = { value = -120 name = ut_new_dawn_autocrat_bar }	
			}
			custom_tooltip = {
				text = event_new_dawn.uprising.setback_autocrat
			}
		}
		custom_tooltip = {
			text = event_new_dawn.uprising.first_setback
		}
		set_variable = {
			name = ut_new_dawn_core_suppressed_winner_1_var
		}
		remove_variable = ut_new_dawn_bar_freeze
	}
}

#Interest Group Events Core Ideology
#Armed Forces
event_new_dawn.11 = {
	type = country_event
	placement = ROOT
	title = event_new_dawn.11.t
	desc = event_new_dawn.11.d
	flavor = event_new_dawn.11.f

	event_image = {
		video = "unspecific_trains"
	}

	duration = 3

	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	#gui_window = event_window_1char_tabloid

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	trigger = {
		# triggered by Divided Monarchy Journal Entry
		NOT = { has_variable = event_new_dawn_11_done }
		ig:ig_armed_forces = {
			is_marginal = no
		}
	}

	cancellation_trigger = {
		always = no
	}

	immediate = {
		set_variable = event_new_dawn_11_done
	}

	#Democrats
	option = {
		name = event_new_dawn.democrat_leader # Long live the Orleanists!s_variable = orleanist_restoration_var
		set_variable = ut_new_dawn_core_democrat_var
		trigger = {
			has_modifier = je_ut_new_dawn_democrat_focus
		}		
		ig:ig_armed_forces = {
			leader = {
				set_ideology = ideology:ideology_social_democrat
			}
		}
	}

	#Autocrats
	option = {
		name = event_new_dawn.autocrat_leader # Long live the Orleanists!
		set_variable = ut_new_dawn_core_autocrat_var
		trigger = {
			OR = {
				has_modifier = je_ut_new_dawn_autocrat_focus
				NOT = { has_law = law_type:law_universal_suffrage }
			}
		}
		ig:ig_armed_forces = {
			leader = {
				set_ideology = ideology:ut_ideology_autocratic_leader
			}
		}
	}


	#Fascist
	option = {
		name = french_pretenders.1.b # Long live the Orleanists!
		set_variable = ut_new_dawn_core_autocrat_var
		trigger = {
			has_modifier = je_ut_new_dawn_fascist_focus
			ig:ig_armed_forces = {
				is_in_government = yes
			}
		}
		
		ig:ig_armed_forces = {
			leader = {
				set_ideology = ideology:ut_ideology_national_socialist_leader
			}
		}
	}

	
	#Communist
	option = {
		name = french_pretenders.1.b # Long live the Orleanists!
		set_variable = ut_new_dawn_core_autocrat_var
		trigger = {
			has_modifier = je_ut_new_dawn_communist_focus
			ig:ig_armed_forces = {
				is_in_government = yes
			}
		}
		ig:ig_armed_forces = {
			leader = {
				set_ideology = ideology:ideology_communist
			}
		}
	}

	option = {
		name = event_new_dawn.random_decision
		default_option = yes
		random_list = {
			50 = {
				ig:ig_armed_forces = {
					leader = {
						set_ideology = ideology:ut_ideology_autocratic_leader
					}
				}
			}
			20 = {
				ig:ig_armed_forces = {
					leader = {
						set_ideology = ideology:ut_ideology_national_socialist_leader
					}
				}
			}
			5 = {
				create_character = {
					ig_leader = yes
					ideology = ideology_social_democrat
					interest_group = ig_armed_forces
				}
				ig:ig_armed_forces = {
					leader = {
						set_ideology = ideology:ideology_social_democrat
					}
				}
			}
			5 = {
				ig:ig_armed_forces = {
					leader = {
						set_ideology = ideology:ideology_communist
					}
				}
			}
			20 = {

			}
		}
	}
	
	option = {
		name = event_new_dawn.suppress_random_decision
		add_radicals = {
			value = 0.01
		}
	}
}

#Petite Bourgeoisie
event_new_dawn.12 = {
	type = country_event
	placement = ROOT
	title = event_new_dawn.11.t
	desc = event_new_dawn.11.d

	event_image = {
		video = "unspecific_trains"
	}

	duration = 3

	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	#gui_window = event_window_1char_tabloid

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	trigger = {
		# triggered by Divided Monarchy Journal Entry
		NOT = { has_variable = event_new_dawn_12_done }
		ig:ig_petty_bourgeoisie = {
			is_marginal = no
		}
	}

	cancellation_trigger = {
		always = no
	}

	immediate = {
		set_variable = event_new_dawn_12_done
	}

	#Democrats
	option = {
		name = event_new_dawn.democrat_leader # Long live the Orleanists!s_variable = orleanist_restoration_var
		set_variable = ut_new_dawn_core_democrat_var
		trigger = {
			has_modifier = je_ut_new_dawn_democrat_focus
		}
		create_character = {
			ig_leader = yes
			ideology = ideology_social_democrat
			interest_group = ig_armed_forces
		}
	}

	#Autocrats
	option = {
		name = french_pretenders.1.b # Long live the Orleanists!
		set_variable = ut_new_dawn_core_autocrat_var
		trigger = {
			OR = {
				has_modifier = je_ut_new_dawn_autocrat_focus
				NOT = { has_law = law_type:law_universal_suffrage }
			}
		}
		create_character = {
			ig_leader = yes
			ideology = ut_ideology_autocratic_leader
			interest_group = ig_armed_forces			
		}
	}


	#Fascist
	option = {
		name = french_pretenders.1.b # Long live the Orleanists!
		set_variable = ut_new_dawn_core_autocrat_var
		trigger = {
			has_modifier = je_ut_new_dawn_fascist_focus
			ig:ig_armed_forces = {
				is_in_government = yes
			}
		}
		create_character = {
			ig_leader = yes
			ideology = ut_ideology_national_socialist_leader
			interest_group = ig_armed_forces			
		}
	}

	
	#Communist
	option = {
		name = french_pretenders.1.b # Long live the Orleanists!
		set_variable = ut_new_dawn_core_autocrat_var
		trigger = {
			has_modifier = je_ut_new_dawn_communist_focus
			ig:ig_armed_forces = {
				is_in_government = yes
			}
		}
		create_character = {
			ig_leader = yes
			ideology = ideology_communist
			interest_group = ig_armed_forces			
		}
	}

	option = {
		name = event_new_dawn.random_decision
		default_option = yes
		random_list = {
			60 = {
				create_character = {
					ig_leader = yes
					ideology = ut_ideology_autocratic_leader
					interest_group = ig_armed_forces
				}
			}
			30 = {
				create_character = {
					ig_leader = yes
					ideology = ut_ideology_national_socialist_leader
					interest_group = ig_armed_forces
				}
			}
			5 = {
				create_character = {
					ig_leader = yes
					ideology = ideology_social_democrat
					interest_group = ig_armed_forces
				}
			}
			5 = {
				create_character = {
					ig_leader = yes
					ideology = ideology_communist
					interest_group = ig_armed_forces
				}
			}
		}
	}
	
	option = {
		name = event_new_dawn.
		add_radicals = {
			value = 0.01
		}
	}
}

#Propaganda Campaign
event_new_dawn.20 = {
	type = country_event
	placement = ROOT
	title = ut_new_dawn_propaganda_target_defend
	desc = ut_new_dawn_propaganda_target_defend_desc
	
	event_image = {
		video = "unspecific_trains"
	}

	duration = 3

	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	#gui_window = event_window_1char_tabloid

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	trigger = {
		# by button
	}

	
	option = {
		name = utopia.continue
		trigger = {
			custom_tooltip = {
				text = ut_has_new_dawn_progress_50
				ut_has_new_dawn_progress_core = {
					VALUE = 50
				}
			}
		}
		custom_tooltip = ut_add_new_dawn_progress_neg_10
		ut_add_new_dawn_core_progress = {
			VALUE = -10
		}
	}
	
	option = {
		name = utopia.no
		custom_tooltip = ut_new_dawn_propaganda_source_abort_tt 		
		set_variable = {
			name = ut_propaganda_source_abandon_var
		}
	}
}

#Autocratic
event_new_dawn.30 = {
	type = country_event
	placement = ROOT
	title = event_new_dawn.30.t
	desc = event_new_dawn.30.d
	flavor = event_new_dawn.30.f
	
	event_image = {
		video = "unspecific_trains"
	}

	duration = 3

	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	#gui_window = event_window_1char_tabloid

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	trigger = {
		# by button
	}

	
	option = {
		name = event_new_dawn.30.o.urbanists
		trigger = {
			ig:ig_urbanists = {
				is_in_government = no
				is_marginal = no
			}
			NOT = {
				has_modifier = je_ut_new_dawn_suppress_dissidents_urbanists_mod
			}
		}
		add_modifier = {
			name = je_ut_new_dawn_suppress_dissidents_urbanists_mod
			days = normal_modifier_time
		}
	}
	
	option = {
		name = event_new_dawn.30.o.armed_forces
		trigger = {
			ig:ig_armed_forces = {
				is_in_government = no
				is_marginal = no
			}
			NOT = {
				has_modifier = je_ut_new_dawn_suppress_dissidents_armed_forces_mod
			}
		}
		add_modifier = {
			name = je_ut_new_dawn_suppress_dissidents_armed_forces_mod
			days = normal_modifier_time
		}
	}

	option = {
		name = event_new_dawn.30.o.devout
		trigger = {
			ig:ig_devout = {
				is_in_government = no
				is_marginal = no
			}
			NOT = {
				has_modifier = je_ut_new_dawn_suppress_dissidents_devout_mod
			}
		}
		add_modifier = {
			name = je_ut_new_dawn_suppress_dissidents_devout_mod
			days = normal_modifier_time
		}
	}

	option = {
		name = event_new_dawn.30.o.industrialists
		trigger = {
			ig:ig_industrialists = {
				is_in_government = no
				is_marginal = no
			}
			NOT = {
				has_modifier = je_ut_new_dawn_suppress_dissidents_industrialists_mod
			}
		}
		add_modifier = {
			name = je_ut_new_dawn_suppress_dissidents_industrialists_mod
			days = normal_modifier_time
		}
	}

	option = {
		name = event_new_dawn.30.o.intelligentsia
		trigger = {
			ig:ig_intelligentsia = {
				is_in_government = no
				is_marginal = no
			}
			NOT = {
				has_modifier = je_ut_new_dawn_suppress_dissidents_intelligentsia_mod
			}
		}
		add_modifier = {
			name = je_ut_new_dawn_suppress_dissidents_intelligentsia_mod
			days = normal_modifier_time
		}
	}

	option = {
		name = event_new_dawn.30.o.landowners
		trigger = {
			ig:ig_landowners = {
				is_in_government = no
				is_marginal = no
			}
			NOT = {
				has_modifier = je_ut_new_dawn_suppress_dissidents_landowners_mod
			}
		}
		add_modifier = {
			name = je_ut_new_dawn_suppress_dissidents_landowners_mod
			days = normal_modifier_time
		}
	}

	option = {
		name = event_new_dawn.30.o.petty_bourgeoisie
		trigger = {
			ig:ig_petty_bourgeoisie = {
				is_in_government = no
				is_marginal = no
			}
			NOT = {
				has_modifier = je_ut_new_dawn_suppress_dissidents_petty_bourgeoisie_mod
			}
		}
		add_modifier = {
			name = je_ut_new_dawn_suppress_dissidents_petty_bourgeoisie_mod
			days = normal_modifier_time
		}
	}

	option = {
		name = event_new_dawn.30.o.rural_folk
		trigger = {
			ig:ig_rural_folk = {
				is_in_government = no
				is_marginal = no
			}
			NOT = {
				has_modifier = je_ut_new_dawn_suppress_dissidents_rural_folk_mod
			}
		}
		add_modifier = {
			name = je_ut_new_dawn_suppress_dissidents_rural_folk_mod
			days = normal_modifier_time
		}
	}

	option = {
		name = event_new_dawn.30.o.trade_unions
		trigger = {
			ig:ig_trade_unions = {
				is_in_government = no
				is_marginal = no
			}
			NOT = {
				has_modifier = je_ut_new_dawn_suppress_dissidents_trade_unions_mod
			}
		}
		add_modifier = {
			name = je_ut_new_dawn_suppress_dissidents_trade_unions_mod
			days = normal_modifier_time
		}
	}

	option = {
		name = event_new_dawn.30.o.self
		default_option = yes
		add_modifier = {
			name = je_ut_new_dawn_suppress_dissidents_self_mod
			days = normal_modifier_time
		}
		add_radicals = {
			value = -0.05
		}
	}
}

#Phase 1 Cheat
event_new_dawn.998 = {
	type = country_event

	event_image = {
		video = "unspecific_trains"
	}
	

	duration = 3

	placement = ROOT

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	title = event_new_dawn.998.cheat
	desc = event_new_dawn.998.cheat
	flavor = event_new_dawn.998.cheat
	
	immediate = {
	}

	option = {
		name = utopia.continue
		default_option = yes
	}

	option = {
		name = event_new_dawn.cheat.add_new_dawn
		trigger = {
			NOT = {
				has_journal_entry = je_ut_new_dawn
			}
		}
		set_variable = {
			name = je_ut_new_dawn_activate_cheat_var
		}
		add_journal_entry = {
			type = je_ut_new_dawn
		}
	}
	
	option = {
		name = event_new_dawn.cheat.add_democratic_50
		je:je_ut_new_dawn ?= {
			add_progress = {
				value = 50
				name = ut_new_dawn_democrat_bar
			}
		}
	}
	
	option = {
		name = event_new_dawn.cheat.add_communist_50
		je:je_ut_new_dawn ?= {
			add_progress = {
				value = 50
				name = ut_new_dawn_communist_bar
			}
		}
	}
	
	option = {
		name = event_new_dawn.cheat.add_autocratic_50
		je:je_ut_new_dawn ?= {
			add_progress = {
				value = 50
				name = ut_new_dawn_autocrat_bar
			}
		}
	}
	
	option = {
		name = event_new_dawn.cheat.add_fascist_50
		je:je_ut_new_dawn ?= {
			add_progress = {
				value = 50
				name = ut_new_dawn_fascist_bar
			}
		}
	}

	
	option = {
		name = event_new_dawn.cheat.remove_democratic_50
		je:je_ut_new_dawn ?= {
			add_progress = {
				value = -50
				name = ut_new_dawn_democrat_bar
			}
		}
	}
	
	option = {
		name = event_new_dawn.cheat.remove_communist_50
		je:je_ut_new_dawn ?= {
			add_progress = {
				value = -50
				name = ut_new_dawn_communist_bar
			}
		}
	}
	
	option = {
		name = event_new_dawn.cheat.remove_autocratic_50
		je:je_ut_new_dawn ?= {
			add_progress = {
				value = -50
				name = ut_new_dawn_autocrat_bar
			}
		}
	}
	
	option = {
		name = event_new_dawn.cheat.remove_fascist_50
		je:je_ut_new_dawn ?= {
			add_progress = {
				value = -50
				name = ut_new_dawn_fascist_bar
			}
		}
	}

	option = {
		name = event_new_dawn.cheat.remove_focus_recently_changed
		trigger = {
			has_modifier = ut_new_dawn_focus_recently_changed
		}
		remove_modifier = ut_new_dawn_focus_recently_changed
	}
}

#Phase 2 Cheat
event_new_dawn.999 = {
	type = country_event

	event_image = {
		video = "unspecific_trains"
	}
	

	duration = 3

	placement = ROOT

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	title = event_new_dawn.999.cheat
	desc = event_new_dawn.999.cheat
	flavor = event_new_dawn.999.cheat
	
	immediate = {
	}
	
	option = {
		name = utopia.continue
		default_option = yes
	}
	
	option = {
		trigger = {
			has_journal_entry = je_ut_new_dawn_democratic
		}
		name = event_new_dawn.cheat.add_democratic_50
		je:je_ut_new_dawn_democratic ?= {
			add_progress = {
				value = 50
				name = je_ut_new_dawn_democratic_points_bar
			}
		}
	}
	
	option = {
		name = event_new_dawn.cheat.add_autocratic_50
		trigger = {
			has_journal_entry = je_ut_new_dawn_autocratic
		}
		je:je_ut_new_dawn_autocratic ?= {
			add_progress = {
				value = 50
				name = je_ut_new_dawn_autocratic_points_bar
			}
		}
	}
	
	option = {
		name = event_new_dawn.cheat.add_communist_50
		trigger = {
			has_journal_entry = je_ut_new_dawn_communist
		}
		je:je_ut_new_dawn_communist ?= {
			add_progress = {
				value = 50
				name = je_ut_new_dawn_communist_points_bar
			}
		}
	}
	
	option = {
		name = event_new_dawn.cheat.add_fascist_50
		trigger = {
			has_journal_entry = je_ut_new_dawn_fascist
		}
		je:je_ut_new_dawn_fascist ?= {
			add_progress = {
				value = 50
				name = je_ut_new_dawn_fascist_points_bar
			}
		}
	}

	
	option = {
		name = event_new_dawn.cheat.remove_democratic_50
		trigger = {
			has_journal_entry = je_ut_new_dawn_democratic
		}
		je:je_ut_new_dawn_democratic ?= {
			add_progress = {
				value = -50
				name = je_ut_new_dawn_democratic_points_bar
			}
		}
	}
	
	option = {
		name = event_new_dawn.cheat.remove_autocratic_50
		trigger = {
			has_journal_entry = je_ut_new_dawn_autocratic
		}
		je:je_ut_new_dawn_autocratic ?= {
			add_progress = {
				value = -50
				name = je_ut_new_dawn_autocratic_points_bar
			}
		}
	}
	
	option = {
		name = event_new_dawn.cheat.remove_communist_50
		trigger = {
			has_journal_entry = je_ut_new_dawn_communist
		}
		je:je_ut_new_dawn_communist ?= {
			add_progress = {
				value = -50
				name = je_ut_new_dawn_communist_points_bar
			}
		}
	}
	
	option = {
		name = event_new_dawn.cheat.remove_fascist_50
		trigger = {
			has_journal_entry = je_ut_new_dawn_fascist
		}
		je:je_ut_new_dawn_fascist ?= {
			add_progress = {
				value = -50
				name = je_ut_new_dawn_fascist_points_bar
			}
		}
	}
}