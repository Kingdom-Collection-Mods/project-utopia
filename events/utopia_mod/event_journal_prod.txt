namespace = utopia_journal_prod
# Heavy Machinery
utopia_journal_prod.1 = {
	title = ut_heavy_industrial_machinery_je
	desc = ut_heavy_industrial_machinery_je.success.d
	flavor = ut_heavy_industrial_machinery_je.success.f

	type = country_event
	event_image = { video = "unspecific_gears_pistons" }
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	duration = 3
	
	option = {
		name = utopia.progress_a
		default_option = yes
		trigger = {
			NOT = { has_technology_researched = heavy_machinery_era_digital }
			can_research = heavy_machinery_era_digital
		}
		add_technology_progress = { progress = 6000 technology = heavy_machinery_era_digital }
	}
	
	option = {
		name = utopia.progress_b
		
		trigger = {
			NOT = { has_technology_researched = electronics }
			can_research = electronics
		}
		add_technology_progress = { progress = 6000 technology = electronics }
	}
	
	option = {
		name = utopia.slow_progress
		add_modifier = {
			name = slow_tech_progress
			days = normal_modifier_time
		}
	}	
}

utopia_journal_prod.2 = {
	title = ut_heavy_industrial_machinery_je.fail 
	desc = ut_heavy_industrial_machinery_je.fail.d
	flavor = ut_heavy_industrial_machinery_je.fail.f
	type = country_event
	event_image = { video = "unspecific_gears_pistons" }
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	duration = 3
	
	
		
	immediate = {
		random_scope_state = {
			limit = {
				has_building = building_motor_industry
				is_incorporated = yes
			}
			save_scope_as = heavy_industrial_machinery_je_state
		}
	}
	
	option = {
		name = utopia.progress_a
		default_option = yes
		scope:heavy_industrial_machinery_je_state = {
			create_building = {
				building = building_heavy_machinery_factory
 				level=1
 				reserves=1
				subsidized = yes
			}
			create_building = {
				building = building_aluminum_factory
 				level=1
 				reserves=1
				subsidized = yes
			}
			create_building = {
				building = building_electronic_factory
 				level=1
 				reserves=1
				subsidized = yes
			}
			remove_building = building_motor_industry
		}
	}

	option = {
		name = utopia.progress_b
		trigger = {
			is_ai = no
		}
	}
}

# CNC Machines Event
utopia_journal_prod.3 = {
	title = ut_cnc_machines_je
	desc = ut_cnc_machines_je.success.d
	flavor = ut_cnc_machines_je.success.f
	type = country_event
	event_image = { video = "unspecific_gears_pistons" }
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	duration = 3
	
	option = {
		name = utopia.progress_a
		default_option = yes
		trigger = {
			NOT = { has_technology_researched = heavy_machinery_industry }
			can_research = heavy_machinery_industry
		}
		add_technology_progress = { progress = 6000 technology = heavy_machinery_industry }
	}
	
	option = {
		name = utopia.progress_b
		
		trigger = {
			NOT = { has_technology_researched = heavy_machinery_industry }
			can_research = heavy_machinery_industry
			country_rank = rank_value:great_power
		}
		add_technology_progress = { progress = 4150 technology = heavy_machinery_industry }
	}
	
	option = {
		name = utopia.slow_progress
		add_modifier = {
			name = slow_tech_progress
			days = normal_modifier_time
		}
	}	
}

#Fail Consumer Goods
utopia_journal_prod.4 = {
	title = ut_consumer_goods_simple_je.fail
	desc = ut_consumer_goods_simple_je.fail.d
	flavor = ut_consumer_goods_simple_je.fail.f
	type = country_event
	event_image = { video = "europenorthamerica_london_center" }
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	duration = 3
	
	immediate = {
		random_scope_state = {
			limit = {
				is_incorporated = yes
			}
			save_scope_as = commercial_factory_state
		}
	}
	
	option = {
		name = utopia.progress_a
		default_option = yes
		scope:commercial_factory_state = {
			create_building = {
				building = building_commercial_factory
 				level=1
 				reserves=1
				subsidized = yes
			}
		}
	}

	option = {
		name = utopia.progress_b
		trigger = {
			is_ai = no
		}
	}
}


# Heavy Tractors Event
utopia_journal_prod.5 = {
	title = ut_heavy_tractors_je
	desc = ut_heavy_tractors_je.success.d
	flavor = ut_heavy_tractors_je.success.f
	type = country_event
	trigger = { }
	event_image = { video = "unspecific_automobile" }
	
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	duration = 3
	
	option = {
		name = utopia.progress_a
		
		trigger = {
			NOT = { has_technology_researched = airplane_farming }
			can_research = airplane_farming
		}
		add_technology_progress = { progress = 6000 technology = airplane_farming }
	}

	option = {
		default_option = yes
		name = utopia.slow_progress
		add_modifier = {
			name = agricultural_mechanization
			days = normal_modifier_time
		}
	}
}

# Agrarian Planes Event
utopia_journal_prod.6 = {
	title = ut_agrarian_planes_je
	desc = ut_agrarian_planes_je.success.d
	flavor = ut_agrarian_planes_je.success.f
	type = country_event
 	event_image = {
 		video = "unspecific_airplane"
 	}
	
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	duration = 3
	
	option = {
		name = utopia.progress_a
		
		trigger = {
			NOT = { has_technology_researched = drone_farming }
			can_research = drone_farming
		}
		add_technology_progress = { progress = 6000 technology = drone_farming }
	}

	option = {
		default_option = yes
		name = utopia.slow_progress
		add_modifier = {
			name = agricultural_mechanization
			days = normal_modifier_time
		}
	}
}

# Plastic Revolution Event
utopia_journal_prod.7 = {
	title = ut_plastic_je
	desc = ut_plastic_je.success.d
	flavor = ut_plastic_je.success.f
	type = country_event
	event_image = { video = "unspecific_gears_pistons" }
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	duration = 3
	
	option = {
		name = utopia.progress_a
		default_option = yes
		trigger = {
			NOT = { has_technology_researched = plastics_polyester }
			can_research = plastics_polyester
		}
		add_technology_progress = { progress = 6000 technology = plastics_polyester }
	}
	
	option = {
		name = utopia.slow_progress
		add_modifier = {
			name = slow_tech_progress
			days = normal_modifier_time
		}
	}	
}

# Electronics Boom Event
utopia_journal_prod.8 = {
	title = ut_electronics_je
	desc = ut_electronics_je.success.d
	flavor = ut_electronics_je.success.f
	type = country_event
	event_image = { video = "unspecific_gears_pistons" }
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	duration = 3
	
	option = {
		name = utopia.progress_a
		default_option = yes
		trigger = {
			NOT = { has_technology_researched = electronics_motors_production }
			can_research = electronics_motors_production
		}
		add_technology_progress = { progress = 6000 technology = electronics_motors_production }
	}

	
	option = {
		name = utopia.progress_a
		trigger = {
			NOT = { has_technology_researched = consumer_goods_main_house_hold_electrical }
			can_research = consumer_goods_main_house_hold_electrical
		}
		add_technology_progress = { progress = 6000 technology = consumer_goods_main_house_hold_electrical }
	}
	
	option = {
		name = utopia.slow_progress
		add_modifier = {
			name = slow_tech_progress
			days = normal_modifier_time
		}
	}	
}

# Computer Age Event
utopia_journal_prod.9 = {
	title = ut_computers_je
	desc = ut_computers_je.success.d
	flavor = ut_computers_je.success.f
	type = country_event
	event_image = { video = "unspecific_gears_pistons" }
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	duration = 3
	
	option = {
		name = utopia.progress_a
		default_option = yes
		trigger = {
			NOT = { has_technology_researched = computers_steel_production }
			can_research = computers_steel_production
		}
		add_technology_progress = { progress = 6000 technology = computers_steel_production }
	}
	
	option = {
		name = utopia.progress_b
		
		trigger = {
			NOT = { has_technology_researched = software }
			can_research = software
		}
		add_technology_progress = { progress = 6000 technology = software }
	}
	
	option = {
		name = utopia.slow_progress
		add_modifier = {
			name = slow_tech_progress
			days = normal_modifier_time
		}
	}	
}

# Software Revolution Event
utopia_journal_prod.10 = {
	title = ut_software_je
	desc = ut_software_je.success.d
	flavor = ut_software_je.success.f
	type = country_event
	event_image = { video = "unspecific_gears_pistons" }
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	duration = 3
	
	option = {
		name = utopia.progress_a
		default_option = yes
		trigger = {
			NOT = { has_technology_researched = internet }
			can_research = internet
		}
		add_technology_progress = { progress = 6000 technology = internet }
	}
	
	option = {
		name = utopia.progress_b
		
		trigger = {
			NOT = { has_technology_researched = software_motors_production }
			can_research = software_motors_production
		}
		add_technology_progress = { progress = 6000 technology = software_motors_production }
	}
	
	option = {
		name = utopia.slow_progress
		add_modifier = {
			name = slow_tech_progress
			days = normal_modifier_time
		}
	}	
}

# Consumer Goods - Simple
utopia_journal_prod.11 = {
	title = ut_consumer_goods_simple_je
	desc = ut_consumer_goods_simple_je.success.d
	flavor = ut_consumer_goods_simple_je.success.f
	type = country_event
	event_image = { video = "europenorthamerica_london_center" }
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	duration = 3
	
	option = {
		name = utopia.progress_a
		default_option = yes
		trigger = {
			NOT = { has_technology_researched = aluminum_base }
			can_research = aluminum_base
		}
		add_technology_progress = { progress = 6000 technology = aluminum_base }
	}
	
	option = {
		name = utopia.progress_b

		trigger = {
			NOT = { has_technology_researched = consumer_goods_main_house_hold_electrical }
			can_research = consumer_goods_main_house_hold_electrical
		}
		add_technology_progress = { progress = 6000 technology = consumer_goods_main_house_hold_electrical }
	}
	
	option = {
		name = utopia.slow_progress
		add_modifier = {
			name = slow_tech_progress
			days = normal_modifier_time
		}
	}	
}

# Consumer Goods - Complex
utopia_journal_prod.12 = {
	title = ut_consumer_goods_complex_je
	desc = ut_consumer_goods_complex_je.success.d
	flavor = ut_consumer_goods_complex_je.success.f
	type = country_event
	event_image = { video = "europenorthamerica_london_center" }
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	duration = 3
	
	option = {
		name = utopia.progress_a
		default_option = yes
		trigger = {
			NOT = { has_technology_researched = consumer_goods_main_entertainment_electrical }
			can_research = consumer_goods_main_entertainment_electrical
		}
		add_technology_progress = { progress = 6000 technology = consumer_goods_main_entertainment_electrical }
	}
	
	option = {
		name = utopia.progress_b
		
		trigger = {
			NOT = { has_technology_researched = computers }
			can_research = computers
		}
		add_technology_progress = { progress = 6000 technology = computers }
	}
	
	option = {
		name = utopia.progress_c
		
		trigger = {
			NOT = { has_technology_researched = plastics_polyester }
			can_research = plastics_polyester
		}
		add_technology_progress = { progress = 6000 technology = plastics_polyester }
	}
	
	option = {
		name = utopia.slow_progress
		add_modifier = {
			name = slow_tech_progress
			days = normal_modifier_time
		}
	}	
}

#research institute

utopia_journal_prod.40 = {
	type = country_event

	title = ut_je_research_institute_founding
	desc = ut_je_research_institute_founding.success.d
	flavor = ut_je_research_institute_founding.success.f

	placement = scope:ut_research_institute_site

	event_image = {
		video = "europenorthamerica_capitalists_meeting"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	duration = 3

	trigger = {
		# triggered by je_skyscraper_site
	}

	immediate = {
		random_scope_state = {
			limit = {
				is_incorporated = yes
				is_split_state = no
				ut_research_institute_site_building_trigger = yes
			}
			save_scope_as = ut_research_institute_site
		}
		# if = {
		# 	limit = {
		# 		NOT = { has_global_variable = ut_first_research_institute }
		# 	}
		# 	set_global_variable = ut_first_research_institute
		# 	set_variable = ut_first_research_institute_builder
		# }
	}

	option = {
		name = utopia.progress_c
		trigger = {
			is_player = yes
			NOT = {	capital = scope:ut_research_institute_site }
		}
        scope:ut_research_institute_site = {
        	add_modifier = {
        		name = ut_research_institute_site_mod
        	}
        }
        # show_as_tooltip = {
        # 	remove_modifier = ut_research_institute_found_mod
        # }
		add_journal_entry = {
			type = ut_je_research_institute_construction
			target = scope:ut_research_institute_site
		}
	}

	
	option = {
        default_option = yes
		trigger = {
			capital = {
				ut_research_institute_site_building_trigger = yes
			}
		}
		name = utopia.progress_b
        capital = {
        	add_modifier = {
        		name = ut_research_institute_site_mod
        	}
        }
        # show_as_tooltip = {
        # 	remove_modifier = ut_research_institute_found_mod
        # }
		add_journal_entry = {
			type = ut_je_research_institute_construction
        	target = capital
		}
		if = {
			limit = {
				is_ai = yes
			}
			capital ={
				create_building = {
					building = building_ut_research_institute
					level=1
				}
			}
		}
	}
}

utopia_journal_prod.41 = {
	type = country_event

	title = ut_je_ut_nuclear_power_research
	desc = ut_je_ut_nuclear_power_research.success.d
	flavor = ut_je_ut_nuclear_power_research.success.f

	placement = scope:nuclear_power_site

	event_image = {
		video = "europenorthamerica_capitalists_meeting"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	duration = 3

	trigger = {
		# triggered by je_skyscraper_site
	}

	immediate = {
		if = {
			limit = {
				any_scope_state = {
					has_modifier = ut_research_institute_site_mod
				}
			}
			random_scope_state = {
				limit = {
					has_modifier = ut_research_institute_site_mod
				}
				save_scope_as = nuclear_power_site
			}
		}
		else_if = {
			limit = {
				capital = {
					is_split_state = no
					any_scope_building = {
						is_building_type = building_power_plant
						level >= 20
					}
				}
			}
			capital = {
				save_scope_as = nuclear_power_site
			}
		}
		else = {
			random_scope_state = {
				limit = {
					is_incorporated = yes
					is_split_state = no
					any_scope_building = {
						is_building_type = building_power_plant
						level >= 20
					}
				}
				save_scope_as = nuclear_power_site
			}
		}

		if = {
			limit = {
				NOT = { has_global_variable = ut_first_nuclear_power }
			}
			set_global_variable = ut_first_nuclear_power
			set_variable = ut_first_nuclear_power_builder
		}
	}

	option = {
		name = utopia.progress_a
        default_option = yes
        scope:nuclear_power_site = {
        	add_modifier = {
        		name = ut_nuclear_power_site_mod
        	}
        }
        show_as_tooltip = {
        	remove_modifier = ut_research_nuclear_power_mod
        }
		add_technology_researched = nuclear_power
	}
}

utopia_journal_prod.42 = {
	type = country_event

	title = ut_je_ut_research_high_tech_computers_research
	desc = ut_je_ut_research_high_tech_computers_research.success.d
	flavor = ut_je_ut_research_high_tech_computers_research.success.f

	event_image = {
		video = "europenorthamerica_capitalists_meeting"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	duration = 3

	trigger = {
		# triggered by je_skyscraper_site
	}

	immediate = {
		if = {
			limit = {
				NOT = { has_global_variable = ut_first_high_tech_computer }
			}
			set_global_variable = ut_first_high_tech_computer
			set_variable = ut_first_high_tech_computer_builder
		}
	}

	option = {
		name = utopia.progress_a
        default_option = yes
        show_as_tooltip = {
        	remove_modifier = ut_research_high_tech_computers_research_mod
        }
		add_technology_researched = high_tech_computers
	}
}

#nuclear power

utopia_journal_prod.50 = {
	type = country_event

	title = ut_je_nuclear_power_plant_construction_site
	desc = ut_je_nuclear_power_plant_construction_site.success.d
	flavor = ut_je_nuclear_power_plant_construction_site.success.f

	event_image = {
		video = "europenorthamerica_capitalists_meeting"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	duration = 3

	trigger = {
		# triggered by je_skyscraper_site
	}

	immediate = {
		
		random_scope_state = {
			limit = {
				has_building = building_ut_nuclear_power_plant_construction_site
			}
			save_scope_as = ut_nuclear_power_plant_location_one
		}
		
		random_scope_state = {
			limit = {
				has_building = building_ut_nuclear_power_plant_construction_site
				NOT = { this = scope:ut_nuclear_power_plant_location_one }
			}
			save_scope_as = ut_nuclear_power_plant_location_two
		}
		
		random_scope_state = {
			limit = {
				has_building = building_ut_nuclear_power_plant_construction_site
				NOT = { this = scope:ut_nuclear_power_plant_location_one }
				NOT = { this = scope:ut_nuclear_power_plant_location_two }
			}
			save_scope_as = ut_nuclear_power_plant_location_three
		}
	}

	option = {
		name = utopia.progress_a
        default_option = yes
        scope:ut_nuclear_power_plant_location_one = {
        	add_modifier = {
        		name = ut_nuclear_power_plant_construction_site_mod
        	}
        }
		add_journal_entry = {
			type = ut_je_nuclear_power_plant_construction
			target = scope:ut_nuclear_power_plant_location_one
		}
	}

	
	option = {
		trigger = {
			exists = scope:ut_nuclear_power_plant_location_two
		}
		name = utopia.progress_b
		scope:ut_nuclear_power_plant_location_two = {
			add_modifier = {
				name = ut_nuclear_power_plant_construction_site_mod
			}
		}
		add_journal_entry = {
			type = ut_je_nuclear_power_plant_construction
			target = scope:ut_nuclear_power_plant_location_two
		}
	}

	option = {
		trigger = {
			exists = scope:ut_nuclear_power_plant_location_three
		}
		name = utopia.progress_c
		scope:ut_nuclear_power_plant_location_three = {
			add_modifier = {
				name = ut_nuclear_power_plant_construction_site_mod
			}
		}
		add_journal_entry = {
			type = ut_je_nuclear_power_plant_construction
			target = scope:ut_nuclear_power_plant_location_three
		}
	}

	after = {
		remove_variable = ut_nuclear_power_plant_location_selecting
	}
}